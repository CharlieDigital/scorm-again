{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/lodash.debounce/index.js","src/AICC.js","src/BaseAPI.js","src/Scorm12API.js","src/Scorm2004API.js","src/cmi/aicc_cmi.js","src/cmi/common.js","src/cmi/scorm12_cmi.js","src/cmi/scorm2004_cmi.js","src/constants/api_constants.js","src/constants/error_codes.js","src/constants/language_constants.js","src/constants/regex.js","src/constants/response_constants.js","src/exceptions.js","src/exports.js","src/utilities.js"],"names":["debounce","func","wait","options","invokeFunc","time","args","lastArgs","thisArg","lastThis","undefined","lastInvokeTime","result","apply","leadingEdge","timerId","setTimeout","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","maxing","nativeMin","maxWait","shouldInvoke","now","trailingEdge","trailing","cancel","clearTimeout","flush","debounced","isInvoking","arguments","this","TypeError","FUNC_ERROR_TEXT","toNumber","isObject","nativeMax","value","type","isObjectLike","isSymbol","objectToString","call","symbolTag","NAN","other","valueOf","replace","reTrim","isBinary","reIsBinary","test","reIsOctal","freeParseInt","slice","reIsBadHex","parseInt","freeGlobal","global","Object","freeSelf","self","root","Function","objectProto","prototype","toString","Math","max","min","Date","module","exports","_Scorm12API2","_interopRequireDefault","require","_aicc_cmi","_scorm12_cmi","AICC","settings","_this","_classCallCheck","finalSettings","_objectSpread","mastery_override","_super","cmi","CMI","nav","NAV","CMIElement","foundFirstIndex","newChild","_get","_getPrototypeOf","stringMatches","CMIEvaluationCommentsObject","CMITriesObject","CMIAttemptRecordsObject","newAPI","Scorm12API","_common","_exceptions","_error_codes2","_api_constants","_utilities","_lodash","global_constants","APIConstants","scorm12_error_codes","ErrorCodes","scorm12","BaseAPI","error_codes","_timeout","set","writable","_error_codes","_settings","autocommit","autocommitSeconds","asyncCommit","sendBeaconCommit","lmsCommitUrl","dataCommitFormat","commitRequestDataType","autoProgress","logLevel","LOG_LEVEL_ERROR","selfReportSessionTime","alwaysSendTotalTime","strict_errors","responseHandler","xhr","JSON","parse","responseText","hasOwnProperty","status","SCORM_TRUE","errorCode","SCORM_FALSE","_defineProperty","constructor","currentState","STATE_NOT_INITIALIZED","lastErrorCode","listenerArray","_classPrivateFieldSet","apiLogLevel","callbackName","initializeMessage","terminationMessage","returnValue","isInitialized","throwSCORMError","_classPrivateFieldGet","INITIALIZED","isTerminated","TERMINATED","setStartTime","STATE_INITIALIZED","processListeners","apiLog","LOG_LEVEL_INFO","clearSCORMError","checkTerminated","checkState","TERMINATION_BEFORE_INIT","MULTIPLE_TERMINATION","STATE_TERMINATED","storeData","RETRIEVE_BEFORE_INIT","RETRIEVE_AFTER_TERM","getCMIValue","e","ValidationError","message","console","error","GENERAL","commitCallback","String","STORE_BEFORE_INIT","STORE_AFTER_TERM","setCMIValue","scheduleCommit","clearScheduledCommit","COMMIT_BEFORE_INIT","COMMIT_AFTER_TERM","LOG_LEVEL_DEBUG","CMIErrorCode","getLmsErrorMessageDetails","beforeInitError","afterTermError","isNotInitialized","functionName","logMessage","messageLevel","formatMessage","LOG_LEVEL_WARNING","warn","info","debug","log","messageString","fillChars","length","i","j","str","tester","match","refObject","attribute","getOwnPropertyDescriptor","getPrototypeOf","_errorNumber","_detail","Error","_CMIElement","_value","methodName","scorm2004","structure","split","invalidErrorMessage","concat","invalidErrorCode","UNDEFINED_DATA_MODEL","substr","_isTargetValid","READ_ONLY_ELEMENT","_checkObjectHasProperty","validateCorrectResponse","CMIArray","index","isNaN","item","childArray","getChildElement","initialized","initialize","push","_foundFirstIndex","uninitializedErrorMessage","target","VALUE_NOT_INITIALIZED","CHILDREN_ERROR","COUNT_ERROR","listenerName","callback","listenerFunctions","listenerSplit","_ret","v","removeIndex","findIndex","obj","splice","_typeof","_this2","_ret2","filter","listener","functionsMatch","listenerHasCMIElement","CMIElementsMatch","substring","indexOf","errorNumber","success","_calculateTotalTime","json","testPattern","a","c","a_pattern","c_match","a_match","a_num","Number","c_num","_this3","int_pattern","obj_pattern","keys","map","key","sort","_ref","_ref2","_ref3","_slicedToArray","_ref4","forEach","element","loadFromJSON","unflatten","startingData","currentCMIElement","stringify","renderCMIToJSONString","_terminateCommit","url","params","immediate","api","process","genericError","blob","headers","Array","Blob","join","navigator","sendBeacon","httpReq","XMLHttpRequest","open","onload","setRequestHeader","send","when","ScheduledCommit","API","_API","_cancelled","_timeout2","_callback","wrapper","bind","commit","_BaseAPI2","Utilities","_interopRequireWildcard","scorm12_constants","LMSInitialize","lmsInitialize","LMSFinish","lmsFinish","LMSGetValue","lmsGetValue","LMSSetValue","lmsSetValue","LMSCommit","lmsCommit","LMSGetLastError","lmsGetLastError","LMSGetErrorString","lmsGetErrorString","LMSGetDiagnostic","lmsGetDiagnostic","terminate","event","getValue","setValue","getLastError","getErrorString","getDiagnostic","_commonSetCMIValue","_commonGetCMIValue","CMIObjectivesObject","CMIInteractionsCorrectResponsesObject","CMIInteractionsObjectivesObject","CMIInteractionsObject","detail","basicMessage","detailMessage","error_descriptions","terminateCommit","cmiExport","renderCMIToJSONObject","core","total_time","getCurrentTotalTime","flattened","flatten","originalStatus","lesson_status","lesson_mode","credit","student_data","mastery_score","score","raw","parseFloat","_this$startingData","_this$startingData$cm","_this$startingData$cm2","commitObject","renderCommitCMI","processHttpRequest","_scorm2004_cmi","_response_constants","_language_constants","_regex","scorm2004_constants","scorm2004_error_codes","correct_responses","Responses","correct","scorm2004_regex","Regex","Scorm2004API","_version","_assertThisInitialized","correct_response","current_index","found","count","_count","adl","ADL","Initialize","Terminate","lmsTerminate","GetValue","SetValue","Commit","GetLastError","GetErrorString","GetDiagnostic","request","parts","interaction","interactions","checkDuplicateChoiceResponse","response_type","checkValidResponseType","GENERAL_SET_FAILURE","DEPENDENCY_NOT_ESTABLISHED","CMICommentsObject","interaction_type","nodes","delimiter","checkCorrectResponseValue","interaction_count","response","pattern","pattern_index","limit","duplicate","checkDuplicatedPattern","formatRegex","RegExp","format","removeCorrectResponsePrefixes","delimiter2","values","matches","format2","TYPE_MISMATCH","unique","node","seenOrder","seenCase","seenLang","prefixRegex","langMatches","CMILangcr","lang","ValidLanguages","toLowerCase","_this$startingData$ad","_this$startingData$ad2","mode","completion_threshold","progress_measure","completion_status","scaled_passing_score","scaled","success_status","navRequest","encodeURIComponent","throwReadOnlyError","AICCValidationError","aicc_error_codes","checkAICCValidFormat","regexPattern","allowEmptyString","checkValidFormat","Scorm12CMI","aicc_constants","aicc","aicc_regex","cmi_children","student_preference","AICCStudentPreferences","AICCCMIStudentData","student_demographics","CMIStudentDemographics","evaluation","CMIEvaluation","paths","CMIPaths","_this$student_prefere","_this$student_data","_this$student_demogra","_this$evaluation","_this$paths","jsonString","suspend_data","launch_data","comments","comments_from_lms","objectives","_super2","CMIEvaluationComments","_this$comments","BaseCMI","_super3","children","comments_children","INVALID_SET_VALUE","errorClass","_super4","student_preference_children","_lesson_type","_text_color","_text_location","_text_size","_video","windows","_this$windows","lesson_type","CMIString256","text_color","text_location","text_size","video","audio","language","speed","text","CMIStudentPreference","_this4","_super5","student_data_children","_tries_during_lesson","tries","CMITries","_this$tries","tries_during_lesson","max_time_allowed","time_limit_action","CMIStudentData","_this5","_super6","_children","student_demographics_children","_city","_class","_company","_country","_experience","_familiar_name","_instructor_name","_title","_native_language","_state","_street_address","_telephone","_years_experience","city","clazz","company","country","experience","familiar_name","instructor_name","title","native_language","state","street_address","telephone","years_experience","class","_super7","paths_children","CMIPathsObject","_this6","_super8","_location_id","_date","_time","_status","_why_left","_time_in_element","location_id","date","CMITime","CMIStatus2","why_left","time_in_element","_super9","tries_children","_this7","_super10","_status2","_time2","CMIScore","score_children","score_range","invalidTypeCode","invalidRangeCode","VALUE_OUT_OF_RANGE","_this$score","CMIAttemptRecords","_super11","attempt_records_children","_this8","_super12","_lesson_status","_this$score2","_this9","_super13","_content","_location","_time3","content","location","checkValidRange","rangePattern","ranges","scorm12_regex","_initialized","_start_time","getTime","decimalRegex","_children2","_score_range","_invalid_error_code","_invalid_type_code","_invalid_range_code","_decimal_regex","_error_class","_raw","_min","_max","CMIDecimal","_errorCode","_errorClass","_children3","Scorm12ValidationError","throwWriteOnlyError","WRITE_ONLY_ELEMENT","throwInvalidValueError","check12ValidFormat","check12ValidRange","_version2","_launch_data","_comments","_comments_from_lms","CMICore","CMIObjectives","CMIInteractions","_this$core","_this$objectives","_this$interactions","_this$core2","CMIString4096","start_time","core_children","_student_id","_student_name","_lesson_location","_credit","_entry","_total_time","_lesson_mode","_exit","_session_time","_suspend_data","student_id","student_name","lesson_location","CMIStatus","entry","exit","CMIExit","session_time","CMITimespan","sessionTime","startTime","seconds","Util","getSecondsAsHHMMSS","addHHMMSSTimeStrings","objectives_children","_children4","_mastery_score","_max_time_allowed","_time_limit_action","_children5","_audio","_language","_speed","_text","CMISInteger","audio_range","speed_range","text_range","interactions_children","_id","_type","_weighting","_student_response","_result","_latency","correct_responses_children","_this$objectives2","_this$correct_respons","id","CMIIdentifier","CMIType","weighting","weighting_range","student_response","CMIFeedback","CMIResult","latency","_id2","_id3","_pattern","_event","NAVEvent","Scorm2004ValidationError","throwTypeMismatchError","throwDependencyNotEstablishedError","throwGeneralSetError","check2004ValidFormat","check2004ValidRange","learner_responses","learner","_completion_status","_completion_threshold","_learner_id","_learner_name","_mode","_progress_measure","_scaled_passing_score","_success_status","learner_preference","CMILearnerPreference","Scorm2004CMIScore","comments_from_learner","CMICommentsFromLearner","CMICommentsFromLMS","_this$learner_prefere","_this$comments_from_l","_this$comments_from_l2","CMICStatus","learner_id","learner_name","CMIString1000","progress_range","CMISStatus","CMIString64000","getSecondsAsISODuration","addTwoDurations","_audio_level","_delivery_speed","_audio_captioning","audio_level","CMILang","delivery_speed","audio_captioning","_timestamp","_learner_response","_description","CMILongIdentifier","timestamp","learner_response","description","CMILangString250","_success_status2","_completion_status2","_progress_measure2","_description2","_scaled","scaled_range","readOnlyAfterInit","_comment","_location2","_timestamp2","_readOnlyAfterInit","comment","CMILangString4000","CMIString250","ADLNav","_this$nav","_this10","_super14","_request","request_valid","ADLNavRequestValid","_this$request_valid","_this11","_super15","_continue","_previous","_class2","_target","_class4","_","previous","continue","LOG_LEVEL_NONE","101","201","202","203","301","401","402","403","404","405","407","408","0","102","103","104","111","112","113","122","123","132","133","142","143","351","391","406","INITIALIZATION_FAILED","TERMINATION_FAILURE","ARGUMENT_ERROR","GENERAL_GET_FAILURE","GENERAL_COMMIT_FAILURE","UNIMPLEMENTED_ELEMENT","MULTIPLE_TERMINATIONS","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","aar","abk","ave","afr","aka","amh","arg","ara","asm","ava","aym","aze","bak","bel","bul","bih","bis","bam","ben","tib","bod","bre","bos","cat","che","cha","cos","cre","cze","ces","chu","chv","wel","cym","dan","ger","deu","div","dzo","ewe","gre","ell","eng","epo","spa","est","baq","eus","per","fas","ful","fin","fij","fao","fre","fra","fry","gle","gla","glg","grn","guj","glv","hau","heb","hin","hmo","hrv","hat","hun","arm","hye","her","ina","ind","ile","ibo","iii","ipk","ido","ice","isl","ita","iku","jpn","jav","geo","kat","kon","kik","kua","kaz","kal","khm","kan","kor","kau","kas","kur","kom","cor","kir","lat","ltz","lug","lim","lin","lao","lit","lub","lav","mlg","mah","mao","mri","mac","mkd","mal","mon","mol","mar","may","msa","mlt","bur","mya","nau","nob","nde","nep","ndo","dut","nld","nno","nor","nbl","nya","oci","oji","orm","ori","oss","pan","pli","pol","pus","por","que","roh","run","rum","ron","rus","kin","san","srd","snd","sme","sag","slo","sin","slk","slv","smo","sna","som","alb","sqi","srp","ssw","sot","sun","swe","swa","tam","tel","tgk","tha","tir","tuk","tgl","tsn","ton","tur","tso","tat","twi","tah","uig","ukr","urd","uzb","ven","vie","vol","wln","wol","xho","yid","yor","zha","chi","zho","zul","CMIInteger","CMIIndex","CMIString200","CMIString4000","CMILangString250cr","CMIShortIdentifier","CMIIndexStore","NAVBoolean","NAVTarget","true-false","choice","fill-in","long-fill-in","matching","performance","sequencing","likert","numeric","scorm12_errors","aicc_errors","scorm2004_errors","errorMessage","detailedMessage","_errorMessage","_detailedMessage","_possibleConstructorReturn","_Scorm2004API","_Scorm12API","_AICC","window","totalSeconds","hours","floor","SECONDS_PER_HOUR","dateObj","minutes","getUTCMinutes","getSeconds","msStr","countDecimals","toFixed","duration","remainder","designations","sign","current_seconds","getTimeAsSeconds","timeString","timeRegex","getDurationAsSeconds","durationRegex","exec","years","days","first","second","data","recurse","cur","prop","isArray","l","isEmpty","p","regex","m","num","SECONDS_PER_SECOND","SECONDS_PER_MINUTE","SECONDS_PER_DAY"],"mappings":"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MC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMnM,GAAM,KAClEoM,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOpjC,IAAO,MAAOqjC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,gBAGlDlwB;;q0BCzEf,IAAM/V,UACJ+Z,aAAc,aACduI,cAAe,cACftE,QAAS,wDACT2F,YAAa,oDACbuiB,WAAY,SACZthB,YAAa,eACb3D,WAAY,6BACZ0E,cAAe,gCACfK,YAAa,aACbmgB,SAAU,cAGV7iB,UAAW,iDACXrF,WAAY,+DACZwF,QAAS,+BACTmC,QAAS,+EACTK,UAAW,oEACXM,SAAU,wBAGV3H,YAAa,QACbiG,YAAa,SACbC,YAAa,WACbgB,gBAAiB,WACjBf,WAAY,QAGR1N,KAAIjZ,cAAAA,iBACL4B,UACD2lB,cAAe,iBAIb3e,WACJo/B,aAAc,6BACd9b,aAAc,6BACdlC,cAAe,8BACfie,cAAe,8BACf9d,eAAgB,+BAChBO,QAAS,gDACTU,iBAAkB,2EAClB3T,UAAW,8DACXywB,mBAAoB,sEACpBjc,kBAAmB,4EACnBrM,QAAS,2RACT2F,YAAa,6HACbuiB,WAAY,SACZthB,YAAa,eACb3D,WAAY,oCACZ0E,cAAe,0BACf4gB,mBAAoB,0BACpBnd,kBAAmB,yEACnBpD,YAAa,OACbmgB,SAAU,cACVK,cAAe,YAGfve,WAAY,iDACZK,WAAY,4BACZ7E,QAAS,qCACTmC,QAAS,kGACTK,UAAW,8EACXM,SAAU,6GACVkgB,WAAY,yBACZC,UAAW,8DAGX5c,aAAc,OACdjF,YAAa,MACbC,YAAa,MACbC,WAAY,OACZsD,eAAgB,OAGZjW,OACJiF,KAAMA,KACNrX,QAASA,QACTgH,UAAWA,oBAGEoL;;kKClFf,IAAAP,QAAAlU,uBAAAC,QAAA,YAEMuU,gBAAkBC,OAAAA,QAAMpL,UAExB+f,SACJ4f,cACE5xB,OAAQ,iBACR1X,IAAK,EACL+W,UAAW,GACXkB,QAAQ,GAEVsxB,QACE7xB,OAAQ5C,gBAAgBo0B,mBACxBlpC,IAAK,GACL+W,UAAW,MACXkB,QAAQ,GAEVuxB,WACE9xB,OAAQ5C,gBAAgBqX,iBACxBnsB,IAAK,GACL+W,UAAW,MACXkB,QAAQ,GAEVwxB,gBACE/xB,OAAQ5C,gBAAgBkY,kBACxBhtB,IAAK,EACL+W,UAAW,GACXkB,QAAQ,GAEVyxB,UACEhyB,OAAQ5C,gBAAgBo0B,mBACxBnxB,QAASjD,gBAAgBo0B,mBACzBlpC,IAAK,GACL+W,UAAW,MACXa,WAAY,MACZK,QAAQ,GAEV0xB,aACEjyB,OAAQ,MAAQ5C,gBAAgBo0B,mBAChCnxB,QAASjD,gBAAgB8O,WAAa,OAClC9O,gBAAgBo0B,mBACpBlpC,IAAK,IACL+W,UAAW,MACXa,WAAY,MACZK,QAAQ,GAEV2xB,YACElyB,OAAQ5C,gBAAgBo0B,mBACxBlpC,IAAK,GACL+W,UAAW,MACXkB,QAAQ,GAEV4xB,QACEnyB,OAAQ5C,gBAAgBo0B,mBACxBlpC,IAAK,EACL+W,UAAW,GACXkB,QAAQ,GAEV6xB,SACEpyB,OAAQ5C,gBAAgB8O,WACxB5jB,IAAK,EACL+W,UAAW,GACXkB,QAAQ,GAEVxZ,OACEiZ,OAAQ5C,gBAAgBk0B,cACxBhpC,IAAK,EACL+W,UAAW,GACXkB,QAAQ,IAINpD,SACJy0B,cACEtpC,IAAK,EACL+W,UAAW,GACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ,iBACRL,MAAO,GAETkyB,QACEvpC,IAAK,GACL+W,UAAW,MACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBo0B,oBAE1BM,WACExpC,IAAK,GACL+W,UAAW,MACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBm0B,oBAE1BQ,gBACEzpC,IAAK,EACL+W,UAAW,GACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBkY,mBAE1B0c,UACE1pC,IAAK,GACL+W,UAAW,MACXa,WAAY,MACZK,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBo0B,mBACxBnxB,QAASjD,gBAAgBo0B,oBAE3BS,aACE3pC,IAAK,IACL+W,UAAW,MACXa,WAAY,MACZK,QAAQ,EACRX,WAAW,EACXI,OAAQ,MAAQ5C,gBAAgBo0B,mBAChCnxB,QAASjD,gBAAgB8O,WAAa,OAClC9O,gBAAgBo0B,oBAEtBU,YACE5pC,IAAK,GACL+W,UAAW,MACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBo0B,oBAE1BW,QACE7pC,IAAK,EACL+W,UAAW,GACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBo0B,mBACxB7xB,MAAO,GAETyyB,SACE9pC,IAAK,EACL+W,UAAW,MACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgB8O,WACxBvM,MAAO,GAET5Y,OACEuB,IAAK,EACL+W,UAAW,GACXkB,QAAQ,EACRX,WAAW,EACXI,OAAQ5C,gBAAgBk0B,cACxB3xB,MAAO,IAILzC,WACJ8U,QAASA,QACT7U,QAASA,kBAGID;;6oHC9Jf,IAAAxS,gBAAA9B,uBAAAC,QAAA,8BAEMwpC,eAAiBvnC,eAAAA,QAAaG,QAAQkQ,mBACtCm3B,YAAcxnC,eAAAA,QAAawX,KAAKnH,mBAChCo3B,iBAAmBznC,eAAAA,QAAamH,UAAUkJ,iGAKnCjM,4BAOX,QAAAA,GAAYpC,EAAmB0lC,EAAsBC,GAAyB,GAAAvpC,EAAA,OAAAC,iBAAAlD,KAAAiJ,GAC5EhG,EAAAK,EAAA3C,KAAAX,KAAMusC,GADsErmB,WAAA9gB,IAAAmS,uBAAAtU,IAAAoC,UAAA,EAAA/E,UAAA,KAAAmsC,cAAArnC,IAAAmS,uBAAAtU,IAAAoC,UAAA,EAAA/E,UAAA,KAAAosC,iBAAAtnC,IAAAmS,uBAAAtU,IAAAoC,UAAA,EAAA/E,UAAA,KAE5E+G,sBAAAkQ,uBAAAtU,GAAAijB,WAAkBrf,GAClBQ,sBAAAkQ,uBAAAtU,GAAAwpC,cAAqBF,GACrBllC,sBAAAkQ,uBAAAtU,GAAAypC,iBAAwBF,GAJoDvpC,mFAe9E,WACE,MAAA4E,uBAAO7H,KAAPkmB,sCAOF,WACE,MAAAre,uBAAO7H,KAAPysC,4CAOF,WACE,MAAA5kC,uBAAO7H,KAAP0sC,0CAvCiC9gC,mDA8CxBya,oCAKX,QAAAA,GAAYxf,GAAmB,GAAAyH,EAAA,OAAApL,iBAAAlD,KAAAqmB,GAI3B/X,KAHK5H,eAAe/F,KAAKyrC,eAAgB7iC,OAAO1C,IAChD+W,EAAAjd,KAAAX,KAAM6G,EAAWulC,eAAe7iC,OAAO1C,IAAYmO,aAAco3B,eAAe7iC,OAAO1C,IAAYoO,eAEnG2I,EAAAjd,KAAAX,KAAM,IAAKosC,eAAe,KAAOp3B,aAAco3B,eAAe,KAAOn3B,eAJ1C03B,2BAAAr+B,kDALWrF,0EAiB/B4S,iCAKX,QAAAA,GAAYhV,GAAmB,GAAA+I,EAAA,OAAA1M,iBAAAlD,KAAA6b,GAI3BjM,KAHKlJ,eAAe/F,KAAK0rC,YAAa9iC,OAAO1C,IAC7CmX,EAAArd,KAAAX,KAAM6G,EAAWwlC,YAAY9iC,OAAO1C,IAAYmO,aAAcq3B,YAAY9iC,OAAO1C,IAAYoO,eAE7F+I,EAAArd,KAAAX,KAAM,IAAKqsC,YAAY,KAAOr3B,aAAcq3B,YAAY,KAAOp3B,eAJpC03B,2BAAA/8B,kDALQ3G,oEAiB5BuiB,sCAKX,QAAAA,GAAY3kB,GAAmB,GAAA4Y,EAAA,OAAAvc,iBAAAlD,KAAAwrB,GAI3B/L,KAHK/Y,eAAe/F,KAAK2rC,iBAAkB/iC,OAAO1C,IAClDwX,EAAA1d,KAAAX,KAAM6G,EAAWylC,iBAAiB/iC,OAAO1C,IAAYmO,aAAcs3B,iBAAiB/iC,OAAO1C,IAAYoO,eAEvGoJ,EAAA1d,KAAAX,KAAM,IAAKssC,iBAAiB,KAAOt3B,aAAcs3B,iBAAiB,KAAOr3B,eAJ9C03B,2BAAAltB,kDALaxW;;qFC3F9C,GAAA2jC,eAAAjqC,uBAAAC,QAAA,mBACAiqC,YAAAlqC,uBAAAC,QAAA,iBACAkqC,MAAAnqC,uBAAAC,QAAA,UAEAmqC,QAAO1oC,WAAaA,YAAAA,QACpB0oC,OAAO11B,aAAeA,cAAAA,QACtB01B,OAAOhqC,KAAOA,MAAAA;;kqCCaP,QAASimB,oBAAmBgkB,GAEjC,IAAKA,GAAgBA,GAAgB,EACnC,MAAO,UAGT,IAAMC,GAAQ7qC,KAAK8qC,MAAMF,EAAeG,kBAElCC,EAAU,GAAI7qC,MAAoB,IAAfyqC,GACnBK,EAAUD,EAAQE,gBAElBxkB,EAAUskB,EAAQG,aAClB/T,EAAKwT,EAAe,EACtBQ,EAAQ,EAUZ,OATIC,eAAcjU,GAAM,IAEpBgU,EADEC,cAAcjU,GAAM,EACdA,EAAGkU,QAAQ,GAEXnkC,OAAOiwB,GAEjBgU,EAAQ,IAAMA,EAAMthC,MAAM,KAAK,KAGzB+gC,EAAQ,IAAMI,EAAU,IAAMvkB,GAAS9nB,QAAQ,UACnD,OAASwsC,EASR,QAAShgB,yBAAwB1E,GAEtC,IAAKA,GAAWA,GAAW,EACzB,MAAO,MAGT,IAAI6kB,GAAW,IACXC,EAAY9kB,CAyBhB,OAvBA+kB,cAAar9B,QAAQ,SAAAL,GAA6B,GAAAC,GAAAE,eAAAH,EAAA,GAA3B29B,EAA2B19B,EAAA,GAArB29B,EAAqB39B,EAAA,GAC5C9P,EAAQ8B,KAAK8qC,MAAMU,EAAYG,EAEnCH,IAAwBG,EACpBN,cAAcG,GAAa,IAC7BA,EAAYl+B,OAAOA,OAAOk+B,GAAWF,QAAQ,KAIlC,MAATI,GAAgBF,EAAY,IAC9BttC,GAASstC,GAGPttC,KACGqtC,EAAS7+B,QAAQ,KAAO,GAChB,MAATg/B,GAAyB,MAATA,GAAyB,MAATA,KACL,IAA3BH,EAAS7+B,QAAQ,OACnB6+B,GAAY,KAEdA,GAAQ,GAAAvhC,OAAO9L,GAAP8L,OAAe0hC,MAIpBH,EAUF,QAASK,kBAAiBC,EAAoBC,GACnD,IAAKD,GAAoC,gBAAfA,KACrBA,EAAW5iC,MAAM6iC,GACpB,MAAO,EAET,IAAMz1B,GAAQw1B,EAAW/hC,MAAM,IAI/B,OAAgB,MAHFwD,OAAO+I,EAAM,IAGQ,GAFnB/I,OAAO+I,EAAM,IACb/I,OAAO+I,EAAM,IAWxB,QAAS01B,sBAAqBR,EAAkBS,GACrD,IAAKT,IAAaA,EAAStiC,MAAM+iC,GAC/B,MAAO,EAGT,IAAA/9B,GAA2D,GAAIyJ,QAC3Ds0B,GAAeC,KAAKV,OADxBp9B,EAAAD,eAAAD,EAAA,GAASi+B,EAAT/9B,EAAA,GAA0Bg+B,GAA1Bh+B,EAAA,GAAAA,EAAA,IAAgC08B,EAAhC18B,EAAA,GAAuC88B,EAAvC98B,EAAA,GAAgDuY,EAAhDvY,EAAA,GAGI/R,EAAS,CAQb,OANAA,IAA6B,EAAlBkR,OAAOoZ,IAAkB,EACpCtqB,GAA6B,GAAlBkR,OAAO29B,IAAmB,EACrC7uC,GAA2B,KAAhBkR,OAAOu9B,IAAmB,EACrCzuC,GAAW,MAAAkR,OAAO6+B,IAA4B,EAC9C/vC,GAAW,QAAAkR,OAAO4+B,IAAmC,EAahD,QAAS7gB,iBACZ+gB,EACAC,EACAL,GACF,MAAO5gB,yBACH2gB,qBAAqBK,EAAOJ,GAC5BD,qBAAqBM,EAAQL,IAY5B,QAASnlB,sBACZulB,EACAC,EACAP,GACF,MAAOllB,oBACHglB,iBAAiBQ,EAAON,GACxBF,iBACIS,EAAQP,IASX,QAASx4B,SAAQg5B,GAQtB,QAASC,GAAQC,EAAKC,GACpB,GAAIjtC,OAAOgtC,KAASA,EAClBpwC,EAAOqwC,GAAQD,MACV,IAAIn9B,MAAMq9B,QAAQF,GACvB,IAAK,GAAI3jC,GAAI,EAAG8jC,EAAIH,EAAI5jC,OAAQC,EAAI8jC,EAAG9jC,IACrC0jC,EAAQC,EAAI3jC,GAAI4jC,EAAO,IAAM5jC,EAAI,KACvB,IAAN8jC,IAASvwC,EAAOqwC,WAEjB,CACL,GAAIG,IAAU,CACd,KAAK,GAAMC,KAAKL,QACPloC,eAAe/F,KAAKiuC,EAAKK,KAC9BD,GAAU,EACVL,EAAQC,EAAIK,GAAIJ,EAAOA,EAAO,IAAMI,EAAIA,GAGxCD,IAAWH,IAAMrwC,EAAOqwC,QAvBhC,GAAMrwC,KA4BN,OADAmwC,GAAQD,EAAM,IACPlwC,EAQF,QAASmS,WAAU+9B,GAExB,GAAI9sC,OAAO8sC,KAAUA,GAAQj9B,MAAMq9B,QAAQJ,GAAO,MAAOA,EACzD,IAAMQ,GAAQ,0BACR1wC,IACN,KAAK,GAAMywC,KAAKP,GACd,MAAOhoC,eAAe/F,KAAK+tC,EAAMO,GAAI,CAInC,IAHA,GAAIL,GAAMpwC,EACNqwC,EAAO,GACPM,EAAID,EAAMb,KAAKY,GACZE,GACLP,EAAMA,EAAIC,KAAUD,EAAIC,GAASM,EAAE,UACnCN,EAAOM,EAAE,IAAMA,EAAE,GACjBA,EAAID,EAAMb,KAAKY,EAEjBL,GAAIC,GAAQH,EAAKO,GAGrB,MAAOzwC,GAAO,KAAOA,EAQhB,QAASivC,eAAc2B,GAC5B,MAAIhtC,MAAK8qC,MAAMkC,KAASA,GAAO7lC,OAAO6lC,GAAKtgC,QAAQ,KAAO,EAAU,EACtDsgC,EAAIjtC,WAAW+J,MAAM,KAAK,GAC3BlB,QAAU,0hBA/OlB,IAAMqkC,oBAAqB,+CAC3B,IAAMC,oBAAqB,gDAC3B,IAAMnC,kBAAmB,GAAKmC,4DAC9B,IAAMC,iBAAkB,GAAKpC,wDAEpC,IAAMU,gBACH,IAAK0B,kBACL,IAAKpC,mBACL,IAAKmC,qBACL,IAAKD","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// @flow\nimport Scorm12API from './Scorm12API';\nimport {\n  CMI,\n  CMIAttemptRecordsObject,\n  CMIEvaluationCommentsObject,\n  CMITriesObject,\n} from './cmi/aicc_cmi';\nimport {NAV} from './cmi/scorm12_cmi';\n\n/**\n * The AICC API class\n */\nexport default class AICC extends Scorm12API {\n  /**\n   * Constructor to create AICC API object\n   * @param {object} settings\n   */\n  constructor(settings: {}) {\n    const finalSettings = {\n      ...{\n        mastery_override: false,\n      }, ...settings,\n    };\n\n    super(finalSettings);\n\n    this.cmi = new CMI();\n    this.nav = new NAV();\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   *\n   * @param {string} CMIElement\n   * @param {any} value\n   * @param {boolean} foundFirstIndex\n   * @return {object}\n   */\n  getChildElement(CMIElement, value, foundFirstIndex) {\n    let newChild = super.getChildElement(CMIElement, value, foundFirstIndex);\n\n    if (!newChild) {\n      if (this.stringMatches(CMIElement, 'cmi\\\\.evaluation\\\\.comments\\\\.\\\\d+')) {\n        newChild = new CMIEvaluationCommentsObject();\n      } else if (this.stringMatches(CMIElement,\n          'cmi\\\\.student_data\\\\.tries\\\\.\\\\d+')) {\n        newChild = new CMITriesObject();\n      } else if (this.stringMatches(CMIElement,\n          'cmi\\\\.student_data\\\\.attempt_records\\\\.\\\\d+')) {\n        newChild = new CMIAttemptRecordsObject();\n      }\n    }\n\n    return newChild;\n  }\n\n  /**\n   * Replace the whole API with another\n   *\n   * @param {AICC} newAPI\n   */\n  replaceWithAnotherScormAPI(newAPI) {\n    // Data Model\n    this.cmi = newAPI.cmi;\n    this.nav = newAPI.nav;\n  }\n}\n","// @flow\nimport {CMIArray} from './cmi/common';\nimport {ValidationError} from './exceptions';\nimport ErrorCodes from './constants/error_codes';\nimport APIConstants from './constants/api_constants';\nimport {unflatten} from './utilities';\nimport debounce from 'lodash.debounce';\n\nconst global_constants = APIConstants.global;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * Base API class for AICC, SCORM 1.2, and SCORM 2004. Should be considered\n * abstract, and never initialized on it's own.\n */\nexport default class BaseAPI {\n  #timeout;\n  #error_codes;\n  #settings = {\n    autocommit: false,\n    autocommitSeconds: 10,\n    asyncCommit: false,\n    sendBeaconCommit: false,\n    lmsCommitUrl: false,\n    dataCommitFormat: 'json', // valid formats are 'json' or 'flattened', 'params'\n    commitRequestDataType: 'application/json;charset=UTF-8',\n    autoProgress: false,\n    logLevel: global_constants.LOG_LEVEL_ERROR,\n    selfReportSessionTime: false,\n    alwaysSendTotalTime: false,\n    strict_errors: true,\n    responseHandler: function(xhr) {\n      let result;\n      if (typeof xhr !== 'undefined') {\n        result = JSON.parse(xhr.responseText);\n        if (result === null || !{}.hasOwnProperty.call(result, 'result')) {\n          result = {};\n          if (xhr.status === 200) {\n            result.result = global_constants.SCORM_TRUE;\n            result.errorCode = 0;\n          } else {\n            result.result = global_constants.SCORM_FALSE;\n            result.errorCode = 101;\n          }\n        }\n      }\n      return result;\n    },\n  };\n  cmi;\n  startingData: {};\n\n  /**\n   * Constructor for Base API class. Sets some shared API fields, as well as\n   * sets up options for the API.\n   * @param {object} error_codes\n   * @param {object} settings\n   */\n  constructor(error_codes, settings) {\n    if (new.target === BaseAPI) {\n      throw new TypeError('Cannot construct BaseAPI instances directly');\n    }\n    this.currentState = global_constants.STATE_NOT_INITIALIZED;\n    this.lastErrorCode = 0;\n    this.listenerArray = [];\n\n    this.#timeout = null;\n    this.#error_codes = error_codes;\n\n    this.settings = settings;\n    this.apiLogLevel = this.settings.logLevel;\n    this.selfReportSessionTime = this.settings.selfReportSessionTime;\n  }\n\n  /**\n   * Initialize the API\n   * @param {string} callbackName\n   * @param {string} initializeMessage\n   * @param {string} terminationMessage\n   * @return {string}\n   */\n  initialize(\n      callbackName: String,\n      initializeMessage?: String,\n      terminationMessage?: String) {\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.isInitialized()) {\n      this.throwSCORMError(this.#error_codes.INITIALIZED, initializeMessage);\n    } else if (this.isTerminated()) {\n      this.throwSCORMError(this.#error_codes.TERMINATED, terminationMessage);\n    } else {\n      if (this.selfReportSessionTime) {\n        this.cmi.setStartTime();\n      }\n\n      this.currentState = global_constants.STATE_INITIALIZED;\n      this.lastErrorCode = 0;\n      returnValue = global_constants.SCORM_TRUE;\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Getter for #error_codes\n   * @return {object}\n   */\n  get error_codes() {\n    return this.#error_codes;\n  }\n\n  /**\n   * Getter for #settings\n   * @return {object}\n   */\n  get settings() {\n    return this.#settings;\n  }\n\n  /**\n   * Setter for #settings\n   * @param {object} settings\n   */\n  set settings(settings: Object) {\n    this.#settings = {...this.#settings, ...settings};\n  }\n\n  /**\n   * Terminates the current run of the API\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @return {string}\n   */\n  terminate(\n      callbackName: String,\n      checkTerminated: boolean) {\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.checkState(checkTerminated,\n        this.#error_codes.TERMINATION_BEFORE_INIT,\n        this.#error_codes.MULTIPLE_TERMINATION)) {\n      this.currentState = global_constants.STATE_TERMINATED;\n\n      const result = this.storeData(true);\n      if (!this.settings.sendBeaconCommit && !this.settings.asyncCommit &&\n          typeof result.errorCode !== 'undefined' && result.errorCode > 0) {\n        this.throwSCORMError(result.errorCode);\n      }\n      returnValue = (typeof result !== 'undefined' && result.result) ?\n          result.result : global_constants.SCORM_FALSE;\n\n      if (checkTerminated) this.lastErrorCode = 0;\n\n      returnValue = global_constants.SCORM_TRUE;\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Get the value of the CMIElement.\n   *\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @param {string} CMIElement\n   * @return {string}\n   */\n  getValue(\n      callbackName: String,\n      checkTerminated: boolean,\n      CMIElement: String) {\n    let returnValue;\n\n    if (this.checkState(checkTerminated,\n        this.#error_codes.RETRIEVE_BEFORE_INIT,\n        this.#error_codes.RETRIEVE_AFTER_TERM)) {\n      if (checkTerminated) this.lastErrorCode = 0;\n      try {\n        returnValue = this.getCMIValue(CMIElement);\n      } catch (e) {\n        if (e instanceof ValidationError) {\n          this.lastErrorCode = e.errorCode;\n          returnValue = global_constants.SCORM_FALSE;\n        } else {\n          if (e.message) {\n            console.error(e.message);\n          } else {\n            console.error(e);\n          }\n          this.throwSCORMError(this.#error_codes.GENERAL);\n        }\n      }\n      this.processListeners(callbackName, CMIElement);\n    }\n\n    this.apiLog(callbackName, CMIElement, ': returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Sets the value of the CMIElement.\n   *\n   * @param {string} callbackName\n   * @param {string} commitCallback\n   * @param {boolean} checkTerminated\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  setValue(\n      callbackName: String,\n      commitCallback: String,\n      checkTerminated: boolean,\n      CMIElement,\n      value) {\n    if (value !== undefined) {\n      value = String(value);\n    }\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.checkState(checkTerminated, this.#error_codes.STORE_BEFORE_INIT,\n        this.#error_codes.STORE_AFTER_TERM)) {\n      if (checkTerminated) this.lastErrorCode = 0;\n      try {\n        returnValue = this.setCMIValue(CMIElement, value);\n      } catch (e) {\n        if (e instanceof ValidationError) {\n          this.lastErrorCode = e.errorCode;\n          returnValue = global_constants.SCORM_FALSE;\n        } else {\n          if (e.message) {\n            console.error(e.message);\n          } else {\n            console.error(e);\n          }\n          this.throwSCORMError(this.#error_codes.GENERAL);\n        }\n      }\n      this.processListeners(callbackName, CMIElement, value);\n    }\n\n    if (returnValue === undefined) {\n      returnValue = global_constants.SCORM_FALSE;\n    }\n\n    // If we didn't have any errors while setting the data, go ahead and\n    // schedule a commit, if autocommit is turned on\n    if (String(this.lastErrorCode) === '0') {\n      if (this.settings.autocommit && !this.#timeout) {\n        this.scheduleCommit(this.settings.autocommitSeconds * 1000, commitCallback);\n      }\n    }\n\n    this.apiLog(callbackName, CMIElement,\n        ': ' + value + ': result: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Orders LMS to store all content parameters\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @return {string}\n   */\n  commit(\n      callbackName: String,\n      checkTerminated: boolean) {\n    this.clearScheduledCommit();\n\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.checkState(checkTerminated, this.#error_codes.COMMIT_BEFORE_INIT,\n        this.#error_codes.COMMIT_AFTER_TERM)) {\n      const result = this.storeData(false);\n      if (!this.settings.sendBeaconCommit && !this.settings.asyncCommit &&\n          result.errorCode && result.errorCode > 0) {\n        this.throwSCORMError(result.errorCode);\n      }\n      returnValue = (typeof result !== 'undefined' && result.result) ?\n          result.result : global_constants.SCORM_FALSE;\n\n      this.apiLog(callbackName, 'HttpRequest', ' Result: ' + returnValue,\n          global_constants.LOG_LEVEL_DEBUG);\n\n      if (checkTerminated) this.lastErrorCode = 0;\n\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Returns last error code\n   * @param {string} callbackName\n   * @return {string}\n   */\n  getLastError(callbackName: String) {\n    const returnValue = String(this.lastErrorCode);\n\n    this.processListeners(callbackName);\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n\n    return returnValue;\n  }\n\n  /**\n   * Returns the errorNumber error description\n   *\n   * @param {string} callbackName\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  getErrorString(callbackName: String, CMIErrorCode) {\n    let returnValue = '';\n\n    if (CMIErrorCode !== null && CMIErrorCode !== '') {\n      returnValue = this.getLmsErrorMessageDetails(CMIErrorCode);\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n\n    return returnValue;\n  }\n\n  /**\n   * Returns a comprehensive description of the errorNumber error.\n   *\n   * @param {string} callbackName\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  getDiagnostic(callbackName: String, CMIErrorCode) {\n    let returnValue = '';\n\n    if (CMIErrorCode !== null && CMIErrorCode !== '') {\n      returnValue = this.getLmsErrorMessageDetails(CMIErrorCode, true);\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n\n    return returnValue;\n  }\n\n  /**\n   * Checks the LMS state and ensures it has been initialized.\n   *\n   * @param {boolean} checkTerminated\n   * @param {number} beforeInitError\n   * @param {number} afterTermError\n   * @return {boolean}\n   */\n  checkState(\n      checkTerminated: boolean,\n      beforeInitError: number,\n      afterTermError?: number) {\n    if (this.isNotInitialized()) {\n      this.throwSCORMError(beforeInitError);\n      return false;\n    } else if (checkTerminated && this.isTerminated()) {\n      this.throwSCORMError(afterTermError);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Logging for all SCORM actions\n   *\n   * @param {string} functionName\n   * @param {string} CMIElement\n   * @param {string} logMessage\n   * @param {number}messageLevel\n   */\n  apiLog(\n      functionName: String,\n      CMIElement: String,\n      logMessage: String,\n      messageLevel: number) {\n    logMessage = this.formatMessage(functionName, CMIElement, logMessage);\n\n    if (messageLevel >= this.apiLogLevel) {\n      switch (messageLevel) {\n        case global_constants.LOG_LEVEL_ERROR:\n          console.error(logMessage);\n          break;\n        case global_constants.LOG_LEVEL_WARNING:\n          console.warn(logMessage);\n          break;\n        case global_constants.LOG_LEVEL_INFO:\n          console.info(logMessage);\n          break;\n        case global_constants.LOG_LEVEL_DEBUG:\n          if (console.debug) {\n            console.debug(logMessage);\n          } else {\n            console.log(logMessage);\n          }\n          break;\n      }\n    }\n  }\n\n  /**\n   * Formats the SCORM messages for easy reading\n   *\n   * @param {string} functionName\n   * @param {string} CMIElement\n   * @param {string} message\n   * @return {string}\n   */\n  formatMessage(functionName: String, CMIElement: String, message: String) {\n    const baseLength = 20;\n    let messageString = '';\n\n    messageString += functionName;\n\n    let fillChars = baseLength - messageString.length;\n\n    for (let i = 0; i < fillChars; i++) {\n      messageString += ' ';\n    }\n\n    messageString += ': ';\n\n    if (CMIElement) {\n      const CMIElementBaseLength = 70;\n\n      messageString += CMIElement;\n\n      fillChars = CMIElementBaseLength - messageString.length;\n\n      for (let j = 0; j < fillChars; j++) {\n        messageString += ' ';\n      }\n    }\n\n    if (message) {\n      messageString += message;\n    }\n\n    return messageString;\n  }\n\n  /**\n   * Checks to see if {str} contains {tester}\n   *\n   * @param {string} str String to check against\n   * @param {string} tester String to check for\n   * @return {boolean}\n   */\n  stringMatches(str: String, tester: String) {\n    return str && tester && str.match(tester);\n  }\n\n  /**\n   * Check to see if the specific object has the given property\n   * @param {*} refObject\n   * @param {string} attribute\n   * @return {boolean}\n   * @private\n   */\n  _checkObjectHasProperty(refObject, attribute: String) {\n    return Object.hasOwnProperty.call(refObject, attribute) ||\n        Object.getOwnPropertyDescriptor(\n            Object.getPrototypeOf(refObject), attribute) ||\n        (attribute in refObject);\n  }\n\n  /**\n   * Returns the message that corresponds to errorNumber\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {(string|number)} _errorNumber\n   * @param {boolean} _detail\n   * @return {string}\n   * @abstract\n   */\n  getLmsErrorMessageDetails(_errorNumber, _detail) {\n    throw new Error(\n        'The getLmsErrorMessageDetails method has not been implemented');\n  }\n\n  /**\n   * Gets the value for the specific element.\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {string} _CMIElement\n   * @return {string}\n   * @abstract\n   */\n  getCMIValue(_CMIElement) {\n    throw new Error('The getCMIValue method has not been implemented');\n  }\n\n  /**\n   * Sets the value for the specific element.\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {string} _CMIElement\n   * @param {any} _value\n   * @return {string}\n   * @abstract\n   */\n  setCMIValue(_CMIElement, _value) {\n    throw new Error('The setCMIValue method has not been implemented');\n  }\n\n  /**\n   * Shared API method to set a valid for a given element.\n   *\n   * @param {string} methodName\n   * @param {boolean} scorm2004\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  _commonSetCMIValue(\n      methodName: String, scorm2004: boolean, CMIElement, value) {\n    if (!CMIElement || CMIElement === '') {\n      return global_constants.SCORM_FALSE;\n    }\n\n    const structure = CMIElement.split('.');\n    let refObject = this;\n    let returnValue = global_constants.SCORM_FALSE;\n    let foundFirstIndex = false;\n\n    const invalidErrorMessage = `The data model element passed to ${methodName} (${CMIElement}) is not a valid SCORM data model element.`;\n    const invalidErrorCode = scorm2004 ?\n        this.#error_codes.UNDEFINED_DATA_MODEL :\n        this.#error_codes.GENERAL;\n\n    for (let i = 0; i < structure.length; i++) {\n      const attribute = structure[i];\n\n      if (i === structure.length - 1) {\n        if (scorm2004 && (attribute.substr(0, 8) === '{target=') &&\n            (typeof refObject._isTargetValid == 'function')) {\n          this.throwSCORMError(this.#error_codes.READ_ONLY_ELEMENT);\n        } else if (!this._checkObjectHasProperty(refObject, attribute)) {\n          this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n        } else {\n          if (this.isInitialized() &&\n              this.stringMatches(CMIElement, '\\\\.correct_responses\\\\.\\\\d+')) {\n            this.validateCorrectResponse(CMIElement, value);\n          }\n\n          if (!scorm2004 || this.lastErrorCode === 0) {\n            refObject[attribute] = value;\n            returnValue = global_constants.SCORM_TRUE;\n          }\n        }\n      } else {\n        refObject = refObject[attribute];\n        if (!refObject) {\n          this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n          break;\n        }\n\n        if (refObject instanceof CMIArray) {\n          const index = parseInt(structure[i + 1], 10);\n\n          // SCO is trying to set an item on an array\n          if (!isNaN(index)) {\n            const item = refObject.childArray[index];\n\n            if (item) {\n              refObject = item;\n              foundFirstIndex = true;\n            } else {\n              const newChild = this.getChildElement(CMIElement, value,\n                  foundFirstIndex);\n              foundFirstIndex = true;\n\n              if (!newChild) {\n                this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n              } else {\n                if (refObject.initialized) newChild.initialize();\n\n                refObject.childArray.push(newChild);\n                refObject = newChild;\n              }\n            }\n\n            // Have to update i value to skip the array position\n            i++;\n          }\n        }\n      }\n    }\n\n    if (returnValue === global_constants.SCORM_FALSE) {\n      this.apiLog(methodName, null,\n          `There was an error setting the value for: ${CMIElement}, value of: ${value}`,\n          global_constants.LOG_LEVEL_WARNING);\n    }\n\n    return returnValue;\n  }\n\n  /**\n   * Abstract method for validating that a response is correct.\n   *\n   * @param {string} _CMIElement\n   * @param {*} _value\n   */\n  validateCorrectResponse(_CMIElement, _value) {\n    // just a stub method\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   * APIs that inherit BaseAPI should override this method.\n   *\n   * @param {string} _CMIElement - unused\n   * @param {*} _value - unused\n   * @param {boolean} _foundFirstIndex - unused\n   * @return {*}\n   * @abstract\n   */\n  getChildElement(_CMIElement, _value, _foundFirstIndex) {\n    throw new Error('The getChildElement method has not been implemented');\n  }\n\n  /**\n   * Gets a value from the CMI Object\n   *\n   * @param {string} methodName\n   * @param {boolean} scorm2004\n   * @param {string} CMIElement\n   * @return {*}\n   */\n  _commonGetCMIValue(methodName: String, scorm2004: boolean, CMIElement) {\n    if (!CMIElement || CMIElement === '') {\n      return '';\n    }\n\n    const structure = CMIElement.split('.');\n    let refObject = this;\n    let attribute = null;\n\n    const uninitializedErrorMessage = `The data model element passed to ${methodName} (${CMIElement}) has not been initialized.`;\n    const invalidErrorMessage = `The data model element passed to ${methodName} (${CMIElement}) is not a valid SCORM data model element.`;\n    const invalidErrorCode = scorm2004 ?\n        this.#error_codes.UNDEFINED_DATA_MODEL :\n        this.#error_codes.GENERAL;\n\n    for (let i = 0; i < structure.length; i++) {\n      attribute = structure[i];\n\n      if (!scorm2004) {\n        if (i === structure.length - 1) {\n          if (!this._checkObjectHasProperty(refObject, attribute)) {\n            this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n            return;\n          }\n        }\n      } else {\n        if ((String(attribute).substr(0, 8) === '{target=') &&\n            (typeof refObject._isTargetValid == 'function')) {\n          const target = String(attribute).\n              substr(8, String(attribute).length - 9);\n          return refObject._isTargetValid(target);\n        } else if (!this._checkObjectHasProperty(refObject, attribute)) {\n          this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n          return;\n        }\n      }\n\n      refObject = refObject[attribute];\n      if (refObject === undefined) {\n        this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n        break;\n      }\n\n      if (refObject instanceof CMIArray) {\n        const index = parseInt(structure[i + 1], 10);\n\n        // SCO is trying to set an item on an array\n        if (!isNaN(index)) {\n          const item = refObject.childArray[index];\n\n          if (item) {\n            refObject = item;\n          } else {\n            this.throwSCORMError(this.#error_codes.VALUE_NOT_INITIALIZED,\n                uninitializedErrorMessage);\n            break;\n          }\n\n          // Have to update i value to skip the array position\n          i++;\n        }\n      }\n    }\n\n    if (refObject === null || refObject === undefined) {\n      if (!scorm2004) {\n        if (attribute === '_children') {\n          this.throwSCORMError(scorm12_error_codes.CHILDREN_ERROR);\n        } else if (attribute === '_count') {\n          this.throwSCORMError(scorm12_error_codes.COUNT_ERROR);\n        }\n      }\n    } else {\n      return refObject;\n    }\n  }\n\n  /**\n   * Returns true if the API's current state is STATE_INITIALIZED\n   *\n   * @return {boolean}\n   */\n  isInitialized() {\n    return this.currentState === global_constants.STATE_INITIALIZED;\n  }\n\n  /**\n   * Returns true if the API's current state is STATE_NOT_INITIALIZED\n   *\n   * @return {boolean}\n   */\n  isNotInitialized() {\n    return this.currentState === global_constants.STATE_NOT_INITIALIZED;\n  }\n\n  /**\n   * Returns true if the API's current state is STATE_TERMINATED\n   *\n   * @return {boolean}\n   */\n  isTerminated() {\n    return this.currentState === global_constants.STATE_TERMINATED;\n  }\n\n  /**\n   * Provides a mechanism for attaching to a specific SCORM event\n   *\n   * @param {string} listenerName\n   * @param {function} callback\n   */\n  on(listenerName: String, callback: function) {\n    if (!callback) return;\n\n    const listenerFunctions = listenerName.split(' ');\n    for (let i = 0; i < listenerFunctions.length; i++) {\n      const listenerSplit = listenerFunctions[i].split('.');\n      if (listenerSplit.length === 0) return;\n\n      const functionName = listenerSplit[0];\n\n      let CMIElement = null;\n      if (listenerSplit.length > 1) {\n        CMIElement = listenerName.replace(functionName + '.', '');\n      }\n\n      this.listenerArray.push({\n        functionName: functionName,\n        CMIElement: CMIElement,\n        callback: callback,\n      });\n\n      this.apiLog('on', functionName, `Added event listener: ${this.listenerArray.length}`, global_constants.LOG_LEVEL_INFO);\n    }\n  }\n\n  /**\n   * Provides a mechanism for detaching a specific SCORM event listener\n   *\n   * @param {string} listenerName\n   * @param {function} callback\n   */\n  off(listenerName: String, callback: function) {\n    if (!callback) return;\n\n    const listenerFunctions = listenerName.split(' ');\n    for (let i = 0; i < listenerFunctions.length; i++) {\n      const listenerSplit = listenerFunctions[i].split('.');\n      if (listenerSplit.length === 0) return;\n\n      const functionName = listenerSplit[0];\n\n      let CMIElement = null;\n      if (listenerSplit.length > 1) {\n        CMIElement = listenerName.replace(functionName + '.', '');\n      }\n\n      const removeIndex = this.listenerArray.findIndex((obj) =>\n        obj.functionName === functionName &&\n        obj.CMIElement === CMIElement &&\n        obj.callback === callback\n      );\n      if (removeIndex !== -1) {\n        this.listenerArray.splice(removeIndex, 1);\n        this.apiLog('off', functionName, `Removed event listener: ${this.listenerArray.length}`, global_constants.LOG_LEVEL_INFO);\n      }\n    }\n  }\n\n  /**\n   * Provides a mechanism for clearing all listeners from a specific SCORM event\n   *\n   * @param {string} listenerName\n   */\n  clear(listenerName: String) {\n    const listenerFunctions = listenerName.split(' ');\n    for (let i = 0; i < listenerFunctions.length; i++) {\n      const listenerSplit = listenerFunctions[i].split('.');\n      if (listenerSplit.length === 0) return;\n\n      const functionName = listenerSplit[0];\n\n      let CMIElement = null;\n      if (listenerSplit.length > 1) {\n        CMIElement = listenerName.replace(functionName + '.', '');\n      }\n\n      this.listenerArray = this.listenerArray.filter((obj) =>\n        obj.functionName !== functionName &&\n        obj.CMIElement !== CMIElement,\n      );\n    }\n  }\n\n  /**\n   * Processes any 'on' listeners that have been created\n   *\n   * @param {string} functionName\n   * @param {string} CMIElement\n   * @param {*} value\n   */\n  processListeners(functionName: String, CMIElement: String, value: any) {\n    this.apiLog(functionName, CMIElement, value);\n    for (let i = 0; i < this.listenerArray.length; i++) {\n      const listener = this.listenerArray[i];\n      const functionsMatch = listener.functionName === functionName;\n      const listenerHasCMIElement = !!listener.CMIElement;\n      let CMIElementsMatch = false;\n      if (CMIElement && listener.CMIElement &&\n          listener.CMIElement.substring(listener.CMIElement.length - 1) ===\n          '*') {\n        CMIElementsMatch = CMIElement.indexOf(listener.CMIElement.substring(0,\n            listener.CMIElement.length - 1)) === 0;\n      } else {\n        CMIElementsMatch = listener.CMIElement === CMIElement;\n      }\n\n      if (functionsMatch && (!listenerHasCMIElement || CMIElementsMatch)) {\n        listener.callback(CMIElement, value);\n      }\n    }\n  }\n\n  /**\n   * Throws a SCORM error\n   *\n   * @param {number} errorNumber\n   * @param {string} message\n   */\n  throwSCORMError(errorNumber: number, message: String) {\n    if (!message) {\n      message = this.getLmsErrorMessageDetails(errorNumber);\n    }\n\n    this.apiLog('throwSCORMError', null, errorNumber + ': ' + message,\n        global_constants.LOG_LEVEL_ERROR);\n\n    this.lastErrorCode = String(errorNumber);\n  }\n\n  /**\n   * Clears the last SCORM error code on success.\n   *\n   * @param {string} success\n   */\n  clearSCORMError(success: String) {\n    if (success !== undefined && success !== global_constants.SCORM_FALSE) {\n      this.lastErrorCode = 0;\n    }\n  }\n\n  /**\n   * Attempts to store the data to the LMS, logs data if no LMS configured\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {boolean} _calculateTotalTime\n   * @return {string}\n   * @abstract\n   */\n  storeData(_calculateTotalTime) {\n    throw new Error(\n        'The storeData method has not been implemented');\n  }\n\n  /**\n   * Load the CMI from a flattened JSON object\n   * @param {object} json\n   * @param {string} CMIElement\n   */\n  loadFromFlattenedJSON(json, CMIElement) {\n    if (!this.isNotInitialized()) {\n      console.error(\n          'loadFromFlattenedJSON can only be called before the call to lmsInitialize.');\n      return;\n    }\n\n    /**\n     * Test match pattern.\n     *\n     * @param {string} a\n     * @param {string} c\n     * @param {RegExp} a_pattern\n     * @return {number}\n     */\n    function testPattern(a, c, a_pattern) {\n      const a_match = a.match(a_pattern);\n\n      let c_match;\n      if (a_match !== null && (c_match = c.match(a_pattern)) !== null) {\n        const a_num = Number(a_match[2]);\n        const c_num = Number(c_match[2]);\n        if (a_num === c_num) {\n          if (a_match[3] === 'id') {\n            return -1;\n          } else if (a_match[3] === 'type') {\n            if (c_match[3] === 'id') {\n              return 1;\n            } else {\n              return -1;\n            }\n          } else {\n            return 1;\n          }\n        }\n        return a_num - c_num;\n      }\n\n      return null;\n    }\n\n    const int_pattern = /^(cmi\\.interactions\\.)(\\d+)\\.(.*)$/;\n    const obj_pattern = /^(cmi\\.objectives\\.)(\\d+)\\.(.*)$/;\n\n    const result = Object.keys(json).map(function(key) {\n      return [String(key), json[key]];\n    });\n\n    // CMI interactions need to have id and type loaded before any other fields\n    result.sort(function([a, b], [c, d]) {\n      let test;\n      if ((test = testPattern(a, c, int_pattern)) !== null) {\n        return test;\n      }\n      if ((test = testPattern(a, c, obj_pattern)) !== null) {\n        return test;\n      }\n\n      if (a < c) {\n        return -1;\n      }\n      if (a > c) {\n        return 1;\n      }\n      return 0;\n    });\n\n    let obj;\n    result.forEach((element) => {\n      obj = {};\n      obj[element[0]] = element[1];\n      this.loadFromJSON(unflatten(obj), CMIElement);\n    });\n  }\n\n  /**\n   * Loads CMI data from a JSON object.\n   *\n   * @param {object} json\n   * @param {string} CMIElement\n   */\n  loadFromJSON(json, CMIElement) {\n    if (!this.isNotInitialized()) {\n      console.error(\n          'loadFromJSON can only be called before the call to lmsInitialize.');\n      return;\n    }\n\n    CMIElement = CMIElement !== undefined ? CMIElement : 'cmi';\n\n    this.startingData = json;\n\n    // could this be refactored down to flatten(json) then setCMIValue on each?\n    for (const key in json) {\n      if ({}.hasOwnProperty.call(json, key) && json[key]) {\n        const currentCMIElement = (CMIElement ? CMIElement + '.' : '') + key;\n        const value = json[key];\n\n        if (value['childArray']) {\n          for (let i = 0; i < value['childArray'].length; i++) {\n            this.loadFromJSON(value['childArray'][i],\n                currentCMIElement + '.' + i);\n          }\n        } else if (value.constructor === Object) {\n          this.loadFromJSON(value, currentCMIElement);\n        } else {\n          this.setCMIValue(currentCMIElement, value);\n        }\n      }\n    }\n  }\n\n  /**\n   * Render the CMI object to JSON for sending to an LMS.\n   *\n   * @return {string}\n   */\n  renderCMIToJSONString() {\n    const cmi = this.cmi;\n    // Do we want/need to return fields that have no set value?\n    // return JSON.stringify({ cmi }, (k, v) => v === undefined ? null : v, 2);\n    return JSON.stringify({cmi});\n  }\n\n  /**\n   * Returns a JS object representing the current cmi\n   * @return {object}\n   */\n  renderCMIToJSONObject() {\n    // Do we want/need to return fields that have no set value?\n    // return JSON.stringify({ cmi }, (k, v) => v === undefined ? null : v, 2);\n    return JSON.parse(this.renderCMIToJSONString());\n  }\n\n  /**\n   * Render the cmi object to the proper format for LMS commit\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {boolean} _terminateCommit\n   * @return {*}\n   * @abstract\n   */\n  renderCommitCMI(_terminateCommit) {\n    throw new Error(\n        'The storeData method has not been implemented');\n  }\n\n  /**\n   * Send the request to the LMS\n   * @param {string} url\n   * @param {object|Array} params\n   * @param {boolean} immediate\n   * @return {object}\n   */\n  processHttpRequest(url: String, params, immediate = false) {\n    const api = this;\n    const process = function(url, params, settings, error_codes) {\n      const genericError = {\n        'result': global_constants.SCORM_FALSE,\n        'errorCode': error_codes.GENERAL,\n      };\n\n      let result;\n      if (!settings.sendBeaconCommit) {\n        const httpReq = new XMLHttpRequest();\n        httpReq.open('POST', url, settings.asyncCommit);\n        if (settings.asyncCommit) {\n          httpReq.onload = function(e) {\n            if (typeof settings.responseHandler === 'function') {\n              result = settings.responseHandler(httpReq);\n            } else {\n              result = JSON.parse(httpReq.responseText);\n            }\n          };\n        }\n        try {\n          if (params instanceof Array) {\n            httpReq.setRequestHeader('Content-Type',\n                'application/x-www-form-urlencoded');\n            httpReq.send(params.join('&'));\n          } else {\n            httpReq.setRequestHeader('Content-Type',\n                settings.commitRequestDataType);\n            httpReq.send(JSON.stringify(params));\n          }\n\n          if (!settings.asyncCommit) {\n            if (typeof settings.responseHandler === 'function') {\n              result = settings.responseHandler(httpReq);\n            } else {\n              result = JSON.parse(httpReq.responseText);\n            }\n          } else {\n            result = {};\n            result.result = global_constants.SCORM_TRUE;\n            result.errorCode = 0;\n            api.processListeners('CommitSuccess');\n            return result;\n          }\n        } catch (e) {\n          console.error(e);\n          api.processListeners('CommitError');\n          return genericError;\n        }\n      } else {\n        try {\n          const headers = {\n            type: settings.commitRequestDataType,\n          };\n          let blob;\n          if (params instanceof Array) {\n            blob = new Blob([params.join('&')], headers);\n          } else {\n            blob = new Blob([JSON.stringify(params)], headers);\n          }\n\n          result = {};\n          if (navigator.sendBeacon(url, blob)) {\n            result.result = global_constants.SCORM_TRUE;\n            result.errorCode = 0;\n          } else {\n            result.result = global_constants.SCORM_FALSE;\n            result.errorCode = 101;\n          }\n        } catch (e) {\n          console.error(e);\n          api.processListeners('CommitError');\n          return genericError;\n        }\n      }\n\n      if (typeof result === 'undefined') {\n        api.processListeners('CommitError');\n        return genericError;\n      }\n\n      if (result.result === true ||\n          result.result === global_constants.SCORM_TRUE) {\n        api.processListeners('CommitSuccess');\n      } else {\n        api.processListeners('CommitError');\n      }\n\n      return result;\n    };\n\n    if (typeof debounce !== 'undefined') {\n      const debounced = debounce(process, 500);\n      debounced(url, params, this.settings, this.error_codes);\n\n      // if we're terminating, go ahead and commit immediately\n      if (immediate) {\n        debounced.flush();\n      }\n\n      return {\n        result: global_constants.SCORM_TRUE,\n        errorCode: 0,\n      };\n    } else {\n      return process(url, params, this.settings, this.error_codes);\n    }\n  }\n\n  /**\n   * Throws a SCORM error\n   *\n   * @param {number} when - the number of milliseconds to wait before committing\n   * @param {string} callback - the name of the commit event callback\n   */\n  scheduleCommit(when: number, callback: string) {\n    this.#timeout = new ScheduledCommit(this, when, callback);\n    this.apiLog('scheduleCommit', '', 'scheduled',\n        global_constants.LOG_LEVEL_DEBUG);\n  }\n\n  /**\n   * Clears and cancels any currently scheduled commits\n   */\n  clearScheduledCommit() {\n    if (this.#timeout) {\n      this.#timeout.cancel();\n      this.#timeout = null;\n      this.apiLog('clearScheduledCommit', '', 'cleared',\n          global_constants.LOG_LEVEL_DEBUG);\n    }\n  }\n}\n\n/**\n * Private class that wraps a timeout call to the commit() function\n */\nclass ScheduledCommit {\n  #API;\n  #cancelled = false;\n  #timeout;\n  #callback;\n\n  /**\n   * Constructor for ScheduledCommit\n   * @param {BaseAPI} API\n   * @param {number} when\n   * @param {string} callback\n   */\n  constructor(API: any, when: number, callback: string) {\n    this.#API = API;\n    this.#timeout = setTimeout(this.wrapper.bind(this), when);\n    this.#callback = callback;\n  }\n\n  /**\n   * Cancel any currently scheduled commit\n   */\n  cancel() {\n    this.#cancelled = true;\n    if (this.#timeout) {\n      clearTimeout(this.#timeout);\n    }\n  }\n\n  /**\n   * Wrap the API commit call to check if the call has already been cancelled\n   */\n  wrapper() {\n    if (!this.#cancelled) {\n      this.#API.commit(this.#callback);\n    }\n  }\n}\n","// @flow\nimport BaseAPI from './BaseAPI';\nimport {\n  CMI,\n  CMIInteractionsCorrectResponsesObject,\n  CMIInteractionsObject,\n  CMIInteractionsObjectivesObject,\n  CMIObjectivesObject, NAV,\n} from './cmi/scorm12_cmi';\nimport * as Utilities from './utilities';\nimport APIConstants from './constants/api_constants';\nimport ErrorCodes from './constants/error_codes';\n\nconst scorm12_constants = APIConstants.scorm12;\nconst global_constants = APIConstants.global;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * API class for SCORM 1.2\n */\nexport default class Scorm12API extends BaseAPI {\n  /**\n   * Constructor for SCORM 1.2 API\n   * @param {object} settings\n   */\n  constructor(settings: {}) {\n    const finalSettings = {\n      ...{\n        mastery_override: false,\n      }, ...settings,\n    };\n\n    super(scorm12_error_codes, finalSettings);\n\n    this.cmi = new CMI();\n    this.nav = new NAV();\n\n    // Rename functions to match 1.2 Spec and expose to modules\n    this.LMSInitialize = this.lmsInitialize;\n    this.LMSFinish = this.lmsFinish;\n    this.LMSGetValue = this.lmsGetValue;\n    this.LMSSetValue = this.lmsSetValue;\n    this.LMSCommit = this.lmsCommit;\n    this.LMSGetLastError = this.lmsGetLastError;\n    this.LMSGetErrorString = this.lmsGetErrorString;\n    this.LMSGetDiagnostic = this.lmsGetDiagnostic;\n  }\n\n  /**\n   * lmsInitialize function from SCORM 1.2 Spec\n   *\n   * @return {string} bool\n   */\n  lmsInitialize() {\n    this.cmi.initialize();\n    return this.initialize('LMSInitialize', 'LMS was already initialized!',\n        'LMS is already finished!');\n  }\n\n  /**\n   * LMSFinish function from SCORM 1.2 Spec\n   *\n   * @return {string} bool\n   */\n  lmsFinish() {\n    const result = this.terminate('LMSFinish', true);\n\n    if (result === global_constants.SCORM_TRUE) {\n      if (this.nav.event !== '') {\n        if (this.nav.event === 'continue') {\n          this.processListeners('SequenceNext');\n        } else {\n          this.processListeners('SequencePrevious');\n        }\n      } else if (this.settings.autoProgress) {\n        this.processListeners('SequenceNext');\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * LMSGetValue function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIElement\n   * @return {string}\n   */\n  lmsGetValue(CMIElement) {\n    return this.getValue('LMSGetValue', false, CMIElement);\n  }\n\n  /**\n   * LMSSetValue function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  lmsSetValue(CMIElement, value) {\n    return this.setValue('LMSSetValue', 'LMSCommit', false, CMIElement, value);\n  }\n\n  /**\n   * LMSCommit function from SCORM 1.2 Spec\n   *\n   * @return {string} bool\n   */\n  lmsCommit() {\n    return this.commit('LMSCommit', false);\n  }\n\n  /**\n   * LMSGetLastError function from SCORM 1.2 Spec\n   *\n   * @return {string}\n   */\n  lmsGetLastError() {\n    return this.getLastError('LMSGetLastError');\n  }\n\n  /**\n   * LMSGetErrorString function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetErrorString(CMIErrorCode) {\n    return this.getErrorString('LMSGetErrorString', CMIErrorCode);\n  }\n\n  /**\n   * LMSGetDiagnostic function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetDiagnostic(CMIErrorCode) {\n    return this.getDiagnostic('LMSGetDiagnostic', CMIErrorCode);\n  }\n\n  /**\n   * Sets a value on the CMI Object\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  setCMIValue(CMIElement, value) {\n    return this._commonSetCMIValue('LMSSetValue', false, CMIElement, value);\n  }\n\n  /**\n   * Gets a value from the CMI Object\n   *\n   * @param {string} CMIElement\n   * @return {*}\n   */\n  getCMIValue(CMIElement) {\n    return this._commonGetCMIValue('getCMIValue', false, CMIElement);\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @param {boolean} foundFirstIndex\n   * @return {object}\n   */\n  getChildElement(CMIElement, value, foundFirstIndex) {\n    let newChild;\n\n    if (this.stringMatches(CMIElement, 'cmi\\\\.objectives\\\\.\\\\d+')) {\n      newChild = new CMIObjectivesObject();\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d+\\\\.correct_responses\\\\.\\\\d+')) {\n      newChild = new CMIInteractionsCorrectResponsesObject();\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d+\\\\.objectives\\\\.\\\\d+')) {\n      newChild = new CMIInteractionsObjectivesObject();\n    } else if (!foundFirstIndex &&\n        this.stringMatches(CMIElement, 'cmi\\\\.interactions\\\\.\\\\d+')) {\n      newChild = new CMIInteractionsObject();\n    }\n\n    return newChild;\n  }\n\n  /**\n   * Validates Correct Response values\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {boolean}\n   */\n  validateCorrectResponse(CMIElement, value) {\n    return true;\n  }\n\n  /**\n   * Returns the message that corresponds to errorNumber.\n   *\n   * @param {*} errorNumber\n   * @param {boolean} detail\n   * @return {string}\n   */\n  getLmsErrorMessageDetails(errorNumber, detail) {\n    let basicMessage = 'No Error';\n    let detailMessage = 'No Error';\n\n    // Set error number to string since inconsistent from modules if string or number\n    errorNumber = String(errorNumber);\n    if (scorm12_constants.error_descriptions[errorNumber]) {\n      basicMessage = scorm12_constants.error_descriptions[errorNumber].basicMessage;\n      detailMessage = scorm12_constants.error_descriptions[errorNumber].detailMessage;\n    }\n\n    return detail ? detailMessage : basicMessage;\n  }\n\n  /**\n   * Replace the whole API with another\n   *\n   * @param {Scorm12API} newAPI\n   */\n  replaceWithAnotherScormAPI(newAPI) {\n    // Data Model\n    this.cmi = newAPI.cmi;\n  }\n\n  /**\n   * Render the cmi object to the proper format for LMS commit\n   *\n   * @param {boolean} terminateCommit\n   * @return {object|Array}\n   */\n  renderCommitCMI(terminateCommit: boolean) {\n    const cmiExport = this.renderCMIToJSONObject();\n\n    if (terminateCommit) {\n      cmiExport.cmi.core.total_time = this.cmi.getCurrentTotalTime();\n    }\n\n    const result = [];\n    const flattened = Utilities.flatten(cmiExport);\n    switch (this.settings.dataCommitFormat) {\n      case 'flattened':\n        return Utilities.flatten(cmiExport);\n      case 'params':\n        for (const item in flattened) {\n          if ({}.hasOwnProperty.call(flattened, item)) {\n            result.push(`${item}=${flattened[item]}`);\n          }\n        }\n        return result;\n      case 'json':\n      default:\n        return cmiExport;\n    }\n  }\n\n  /**\n   * Attempts to store the data to the LMS\n   *\n   * @param {boolean} terminateCommit\n   * @return {string}\n   */\n  storeData(terminateCommit: boolean) {\n    if (terminateCommit) {\n      const originalStatus = this.cmi.core.lesson_status;\n      if (originalStatus === 'not attempted') {\n        this.cmi.core.lesson_status = 'completed';\n      }\n\n      if (this.cmi.core.lesson_mode === 'normal') {\n        if (this.cmi.core.credit === 'credit') {\n          if (this.settings.mastery_override &&\n              this.cmi.student_data.mastery_score !== '' &&\n              this.cmi.core.score.raw !== '') {\n            if (parseFloat(this.cmi.core.score.raw) >= parseFloat(this.cmi.student_data.mastery_score)) {\n              this.cmi.core.lesson_status = 'passed';\n            } else {\n              this.cmi.core.lesson_status = 'failed';\n            }\n          }\n        }\n      } else if (this.cmi.core.lesson_mode === 'browse') {\n        if ((this.startingData?.cmi?.core?.lesson_status || '') === '' && originalStatus === 'not attempted') {\n          this.cmi.core.lesson_status = 'browsed';\n        }\n      }\n    }\n\n    const commitObject = this.renderCommitCMI(terminateCommit ||\n        this.settings.alwaysSendTotalTime);\n\n    if (this.settings.lmsCommitUrl) {\n      if (this.apiLogLevel === global_constants.LOG_LEVEL_DEBUG) {\n        console.debug('Commit (terminated: ' + (terminateCommit ? 'yes' : 'no') + '): ');\n        console.debug(commitObject);\n      }\n      return this.processHttpRequest(this.settings.lmsCommitUrl, commitObject,\n          terminateCommit);\n    } else {\n      console.log('Commit (terminated: ' + (terminateCommit ? 'yes' : 'no') + '): ');\n      console.log(commitObject);\n      return global_constants.SCORM_TRUE;\n    }\n  }\n}\n","// @flow\nimport BaseAPI from './BaseAPI';\nimport {\n  ADL,\n  CMI,\n  CMICommentsObject,\n  CMIInteractionsCorrectResponsesObject,\n  CMIInteractionsObject,\n  CMIInteractionsObjectivesObject,\n  CMIObjectivesObject,\n} from './cmi/scorm2004_cmi';\nimport * as Utilities from './utilities';\nimport APIConstants from './constants/api_constants';\nimport ErrorCodes from './constants/error_codes';\nimport Responses from './constants/response_constants';\nimport ValidLanguages from './constants/language_constants';\nimport Regex from './constants/regex';\n\nconst scorm2004_constants = APIConstants.scorm2004;\nconst global_constants = APIConstants.global;\nconst scorm2004_error_codes = ErrorCodes.scorm2004;\nconst correct_responses = Responses.correct;\nconst scorm2004_regex = Regex.scorm2004;\n\n/**\n * API class for SCORM 2004\n */\nexport default class Scorm2004API extends BaseAPI {\n  #version: '1.0';\n\n  /**\n   * Constructor for SCORM 2004 API\n   * @param {object} settings\n   */\n  constructor(settings: {}) {\n    const finalSettings = {\n      ...{\n        mastery_override: false,\n      }, ...settings,\n    };\n\n    super(scorm2004_error_codes, finalSettings);\n\n    this.cmi = new CMI();\n    this.adl = new ADL();\n\n    // Rename functions to match 2004 Spec and expose to modules\n    this.Initialize = this.lmsInitialize;\n    this.Terminate = this.lmsTerminate;\n    this.GetValue = this.lmsGetValue;\n    this.SetValue = this.lmsSetValue;\n    this.Commit = this.lmsCommit;\n    this.GetLastError = this.lmsGetLastError;\n    this.GetErrorString = this.lmsGetErrorString;\n    this.GetDiagnostic = this.lmsGetDiagnostic;\n  }\n\n  /**\n   * Getter for #version\n   * @return {string}\n   */\n  get version() {\n    return this.#version;\n  }\n\n  /**\n   * @return {string} bool\n   */\n  lmsInitialize() {\n    this.cmi.initialize();\n    return this.initialize('Initialize');\n  }\n\n  /**\n   * @return {string} bool\n   */\n  lmsTerminate() {\n    const result = this.terminate('Terminate', true);\n\n    if (result === global_constants.SCORM_TRUE) {\n      if (this.adl.nav.request !== '_none_') {\n        switch (this.adl.nav.request) {\n          case 'continue':\n            this.processListeners('SequenceNext');\n            break;\n          case 'previous':\n            this.processListeners('SequencePrevious');\n            break;\n          case 'choice':\n            this.processListeners('SequenceChoice');\n            break;\n          case 'exit':\n            this.processListeners('SequenceExit');\n            break;\n          case 'exitAll':\n            this.processListeners('SequenceExitAll');\n            break;\n          case 'abandon':\n            this.processListeners('SequenceAbandon');\n            break;\n          case 'abandonAll':\n            this.processListeners('SequenceAbandonAll');\n            break;\n        }\n      } else if (this.settings.autoProgress) {\n        this.processListeners('SequenceNext');\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * @param {string} CMIElement\n   * @return {string}\n   */\n  lmsGetValue(CMIElement) {\n    return this.getValue('GetValue', true, CMIElement);\n  }\n\n  /**\n   * @param {string} CMIElement\n   * @param {any} value\n   * @return {string}\n   */\n  lmsSetValue(CMIElement, value) {\n    return this.setValue('SetValue', 'Commit', true, CMIElement, value);\n  }\n\n  /**\n   * Orders LMS to store all content parameters\n   *\n   * @return {string} bool\n   */\n  lmsCommit() {\n    return this.commit('Commit');\n  }\n\n  /**\n   * Returns last error code\n   *\n   * @return {string}\n   */\n  lmsGetLastError() {\n    return this.getLastError('GetLastError');\n  }\n\n  /**\n   * Returns the errorNumber error description\n   *\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetErrorString(CMIErrorCode) {\n    return this.getErrorString('GetErrorString', CMIErrorCode);\n  }\n\n  /**\n   * Returns a comprehensive description of the errorNumber error.\n   *\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetDiagnostic(CMIErrorCode) {\n    return this.getDiagnostic('GetDiagnostic', CMIErrorCode);\n  }\n\n  /**\n   * Sets a value on the CMI Object\n   *\n   * @param {string} CMIElement\n   * @param {any} value\n   * @return {string}\n   */\n  setCMIValue(CMIElement, value) {\n    return this._commonSetCMIValue('SetValue', true, CMIElement, value);\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   *\n   * @param {string} CMIElement\n   * @param {any} value\n   * @param {boolean} foundFirstIndex\n   * @return {any}\n   */\n  getChildElement(CMIElement, value, foundFirstIndex) {\n    let newChild;\n\n    if (this.stringMatches(CMIElement, 'cmi\\\\.objectives\\\\.\\\\d+')) {\n      newChild = new CMIObjectivesObject();\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d+\\\\.correct_responses\\\\.\\\\d+')) {\n      const parts = CMIElement.split('.');\n      const index = Number(parts[2]);\n      const interaction = this.cmi.interactions.childArray[index];\n      if (this.isInitialized()) {\n        if (!interaction.type) {\n          this.throwSCORMError(\n              scorm2004_error_codes.DEPENDENCY_NOT_ESTABLISHED);\n        } else {\n          this.checkDuplicateChoiceResponse(interaction, value);\n\n          const response_type = correct_responses[interaction.type];\n          if (response_type) {\n            this.checkValidResponseType(response_type, value, interaction.type);\n          } else {\n            this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n                'Incorrect Response Type: ' + interaction.type);\n          }\n        }\n      }\n      if (this.lastErrorCode === 0) {\n        newChild = new CMIInteractionsCorrectResponsesObject();\n      }\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d+\\\\.objectives\\\\.\\\\d+')) {\n      newChild = new CMIInteractionsObjectivesObject();\n    } else if (!foundFirstIndex &&\n        this.stringMatches(CMIElement, 'cmi\\\\.interactions\\\\.\\\\d+')) {\n      newChild = new CMIInteractionsObject();\n    } else if (this.stringMatches(CMIElement,\n        'cmi\\\\.comments_from_learner\\\\.\\\\d+')) {\n      newChild = new CMICommentsObject();\n    } else if (this.stringMatches(CMIElement,\n        'cmi\\\\.comments_from_lms\\\\.\\\\d+')) {\n      newChild = new CMICommentsObject(true);\n    }\n\n    return newChild;\n  }\n\n  /**\n   * Checks for valid response types\n   * @param {object} response_type\n   * @param {any} value\n   * @param {string} interaction_type\n   */\n  checkValidResponseType(response_type, value, interaction_type) {\n    let nodes = [];\n    if (response_type?.delimiter) {\n      nodes = String(value).split(response_type.delimiter);\n    } else {\n      nodes[0] = value;\n    }\n\n    if (nodes.length > 0 && nodes.length <= response_type.max) {\n      this.checkCorrectResponseValue(interaction_type, nodes, value);\n    } else if (nodes.length > response_type.max) {\n      this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n          'Data Model Element Pattern Too Long');\n    }\n  }\n\n  /**\n   * Checks for duplicate 'choice' responses.\n   * @param {CMIInteractionsObject} interaction\n   * @param {any} value\n   */\n  checkDuplicateChoiceResponse(interaction, value) {\n    const interaction_count = interaction.correct_responses._count;\n    if (interaction.type === 'choice') {\n      for (let i = 0; i < interaction_count && this.lastErrorCode ===\n      0; i++) {\n        const response = interaction.correct_responses.childArray[i];\n        if (response.pattern === value) {\n          this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE);\n        }\n      }\n    }\n  }\n\n  /**\n   * Validate correct response.\n   * @param {string} CMIElement\n   * @param {*} value\n   */\n  validateCorrectResponse(CMIElement, value) {\n    const parts = CMIElement.split('.');\n    const index = Number(parts[2]);\n    const pattern_index = Number(parts[4]);\n    const interaction = this.cmi.interactions.childArray[index];\n\n    const interaction_count = interaction.correct_responses._count;\n    this.checkDuplicateChoiceResponse(interaction, value);\n\n    const response_type = correct_responses[interaction.type];\n    if (typeof response_type.limit === 'undefined' || interaction_count <=\n        response_type.limit) {\n      this.checkValidResponseType(response_type, value, interaction.type);\n\n      if (this.lastErrorCode === 0 &&\n          (!response_type.duplicate ||\n              !this.checkDuplicatedPattern(interaction.correct_responses,\n                  pattern_index, value)) ||\n          (this.lastErrorCode === 0 && value === '')) {\n        // do nothing, we want the inverse\n      } else {\n        if (this.lastErrorCode === 0) {\n          this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n              'Data Model Element Pattern Already Exists');\n        }\n      }\n    } else {\n      this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n          'Data Model Element Collection Limit Reached');\n    }\n  }\n\n  /**\n   * Gets a value from the CMI Object\n   *\n   * @param {string} CMIElement\n   * @return {*}\n   */\n  getCMIValue(CMIElement) {\n    return this._commonGetCMIValue('GetValue', true, CMIElement);\n  }\n\n  /**\n   * Returns the message that corresponds to errorNumber.\n   *\n   * @param {(string|number)} errorNumber\n   * @param {boolean} detail\n   * @return {string}\n   */\n  getLmsErrorMessageDetails(errorNumber, detail) {\n    let basicMessage = '';\n    let detailMessage = '';\n\n    // Set error number to string since inconsistent from modules if string or number\n    errorNumber = String(errorNumber);\n    if (scorm2004_constants.error_descriptions[errorNumber]) {\n      basicMessage = scorm2004_constants.error_descriptions[errorNumber].basicMessage;\n      detailMessage = scorm2004_constants.error_descriptions[errorNumber].detailMessage;\n    }\n\n    return detail ? detailMessage : basicMessage;\n  }\n\n  /**\n   * Check to see if a correct_response value has been duplicated\n   * @param {CMIArray} correct_response\n   * @param {number} current_index\n   * @param {*} value\n   * @return {boolean}\n   */\n  checkDuplicatedPattern = (correct_response, current_index, value) => {\n    let found = false;\n    const count = correct_response._count;\n    for (let i = 0; i < count && !found; i++) {\n      if (i !== current_index && correct_response.childArray[i] === value) {\n        found = true;\n      }\n    }\n    return found;\n  };\n\n  /**\n   * Checks for a valid correct_response value\n   * @param {string} interaction_type\n   * @param {Array} nodes\n   * @param {*} value\n   */\n  checkCorrectResponseValue(interaction_type, nodes, value) {\n    const response = correct_responses[interaction_type];\n    const formatRegex = new RegExp(response.format);\n    for (let i = 0; i < nodes.length && this.lastErrorCode === 0; i++) {\n      if (interaction_type.match(\n          '^(fill-in|long-fill-in|matching|performance|sequencing)$')) {\n        nodes[i] = this.removeCorrectResponsePrefixes(nodes[i]);\n      }\n\n      if (response?.delimiter2) {\n        const values = nodes[i].split(response.delimiter2);\n        if (values.length === 2) {\n          const matches = values[0].match(formatRegex);\n          if (!matches) {\n            this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n          } else {\n            if (!values[1].match(new RegExp(response.format2))) {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          }\n        } else {\n          this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n        }\n      } else {\n        const matches = nodes[i].match(formatRegex);\n        if ((!matches && value !== '') ||\n            (!matches && interaction_type === 'true-false')) {\n          this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n        } else {\n          if (interaction_type === 'numeric' && nodes.length > 1) {\n            if (Number(nodes[0]) > Number(nodes[1])) {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          } else {\n            if (nodes[i] !== '' && response.unique) {\n              for (let j = 0; j < i && this.lastErrorCode === 0; j++) {\n                if (nodes[i] === nodes[j]) {\n                  this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Remove prefixes from correct_response\n   * @param {string} node\n   * @return {*}\n   */\n  removeCorrectResponsePrefixes(node) {\n    let seenOrder = false;\n    let seenCase = false;\n    let seenLang = false;\n\n    const prefixRegex = new RegExp(\n        '^({(lang|case_matters|order_matters)=([^}]+)})');\n    let matches = node.match(prefixRegex);\n    let langMatches = null;\n    while (matches) {\n      switch (matches[2]) {\n        case 'lang':\n          langMatches = node.match(scorm2004_regex.CMILangcr);\n          if (langMatches) {\n            const lang = langMatches[3];\n            if (lang !== undefined && lang.length > 0) {\n              if (ValidLanguages[lang.toLowerCase()] === undefined) {\n                this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n              }\n            }\n          }\n          seenLang = true;\n          break;\n        case 'case_matters':\n          if (!seenLang && !seenOrder && !seenCase) {\n            if (matches[3] !== 'true' && matches[3] !== 'false') {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          }\n\n          seenCase = true;\n          break;\n        case 'order_matters':\n          if (!seenCase && !seenLang && !seenOrder) {\n            if (matches[3] !== 'true' && matches[3] !== 'false') {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          }\n\n          seenOrder = true;\n          break;\n        default:\n          break;\n      }\n      node = node.substr(matches[1].length);\n      matches = node.match(prefixRegex);\n    }\n\n    return node;\n  }\n\n  /**\n   * Replace the whole API with another\n   * @param {Scorm2004API} newAPI\n   */\n  replaceWithAnotherScormAPI(newAPI) {\n    // Data Model\n    this.cmi = newAPI.cmi;\n    this.adl = newAPI.adl;\n  }\n\n  /**\n   * Render the cmi object to the proper format for LMS commit\n   *\n   * @param {boolean} terminateCommit\n   * @return {object|Array}\n   */\n  renderCommitCMI(terminateCommit: boolean) {\n    const cmiExport = this.renderCMIToJSONObject();\n\n    if (terminateCommit) {\n      cmiExport.cmi.total_time = this.cmi.getCurrentTotalTime();\n    }\n\n    const result = [];\n    const flattened = Utilities.flatten(cmiExport);\n    switch (this.settings.dataCommitFormat) {\n      case 'flattened':\n        return Utilities.flatten(cmiExport);\n      case 'params':\n        for (const item in flattened) {\n          if ({}.hasOwnProperty.call(flattened, item)) {\n            result.push(`${item}=${flattened[item]}`);\n          }\n        }\n        return result;\n      case 'json':\n      default:\n        return cmiExport;\n    }\n  }\n\n  /**\n   * Attempts to store the data to the LMS\n   *\n   * @param {boolean} terminateCommit\n   * @return {string}\n   */\n  storeData(terminateCommit: boolean) {\n    if (terminateCommit) {\n      if (this.cmi.mode === 'normal') {\n        if (this.cmi.credit === 'credit') {\n          if (this.cmi.completion_threshold && this.cmi.progress_measure) {\n            if (this.cmi.progress_measure >= this.cmi.completion_threshold) {\n              console.debug('Setting Completion Status: Completed');\n              this.cmi.completion_status = 'completed';\n            } else {\n              console.debug('Setting Completion Status: Incomplete');\n              this.cmi.completion_status = 'incomplete';\n            }\n          }\n          if (this.cmi.scaled_passing_score && this.cmi.score.scaled) {\n            if (this.cmi.score.scaled >= this.cmi.scaled_passing_score) {\n              console.debug('Setting Success Status: Passed');\n              this.cmi.success_status = 'passed';\n            } else {\n              console.debug('Setting Success Status: Failed');\n              this.cmi.success_status = 'failed';\n            }\n          }\n        }\n      }\n    }\n\n    let navRequest = false;\n    if (this.adl.nav.request !== (this.startingData?.adl?.nav?.request) &&\n        this.adl.nav.request !== '_none_') {\n      this.adl.nav.request = encodeURIComponent(this.adl.nav.request);\n      navRequest = true;\n    }\n\n    const commitObject = this.renderCommitCMI(terminateCommit ||\n        this.settings.alwaysSendTotalTime);\n\n    if (this.settings.lmsCommitUrl) {\n      if (this.apiLogLevel === global_constants.LOG_LEVEL_DEBUG) {\n        console.debug('Commit (terminated: ' +\n            (terminateCommit ? 'yes' : 'no') + '): ');\n        console.debug(commitObject);\n      }\n      const result = this.processHttpRequest(this.settings.lmsCommitUrl,\n          commitObject, terminateCommit);\n\n      // check if this is a sequencing call, and then call the necessary JS\n      {\n        if (navRequest && result.navRequest !== undefined &&\n            result.navRequest !== '') {\n          Function(`\"use strict\";(() => { ${result.navRequest} })()`)();\n        }\n      }\n      return result;\n    } else {\n      console.log('Commit (terminated: ' +\n          (terminateCommit ? 'yes' : 'no') + '): ');\n      console.log(commitObject);\n      return global_constants.SCORM_TRUE;\n    }\n  }\n}\n","import * as Scorm12CMI from './scorm12_cmi';\nimport {BaseCMI, checkValidFormat, CMIArray, CMIScore} from './common';\nimport APIConstants from '../constants/api_constants';\nimport Regex from '../constants/regex';\nimport ErrorCodes from '../constants/error_codes';\nimport {AICCValidationError} from '../exceptions';\n\nconst aicc_constants = APIConstants.aicc;\nconst aicc_regex = Regex.aicc;\nconst aicc_error_codes = ErrorCodes.scorm12;\n\n/**\n * Helper method for throwing Read Only error\n */\nfunction throwReadOnlyError() {\n  throw new AICCValidationError(aicc_error_codes.READ_ONLY_ELEMENT);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} regexPattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nfunction checkAICCValidFormat(\n    value: String,\n    regexPattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidFormat(\n      value,\n      regexPattern,\n      aicc_error_codes.TYPE_MISMATCH,\n      AICCValidationError,\n      allowEmptyString\n  );\n}\n\n/**\n * CMI Class for AICC\n */\nexport class CMI extends Scorm12CMI.CMI {\n  /**\n   * Constructor for AICC CMI object\n   * @param {boolean} initialized\n   */\n  constructor(initialized: boolean) {\n    super(aicc_constants.cmi_children);\n\n    if (initialized) this.initialize();\n\n    this.student_preference = new AICCStudentPreferences();\n    this.student_data = new AICCCMIStudentData();\n    this.student_demographics = new CMIStudentDemographics();\n    this.evaluation = new CMIEvaluation();\n    this.paths = new CMIPaths();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.student_preference?.initialize();\n    this.student_data?.initialize();\n    this.student_demographics?.initialize();\n    this.evaluation?.initialize();\n    this.paths?.initialize();\n  }\n\n  /**\n   * toJSON for cmi\n   *\n   * @return {\n   *    {\n   *      suspend_data: string,\n   *      launch_data: string,\n   *      comments: string,\n   *      comments_from_lms: string,\n   *      core: CMICore,\n   *      objectives: CMIObjectives,\n   *      student_data: CMIStudentData,\n   *      student_preference: CMIStudentPreference,\n   *      interactions: CMIInteractions,\n   *      paths: CMIPaths\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'suspend_data': this.suspend_data,\n      'launch_data': this.launch_data,\n      'comments': this.comments,\n      'comments_from_lms': this.comments_from_lms,\n      'core': this.core,\n      'objectives': this.objectives,\n      'student_data': this.student_data,\n      'student_preference': this.student_preference,\n      'student_demographics': this.student_demographics,\n      'interactions': this.interactions,\n      'evaluation': this.evaluation,\n      'paths': this.paths,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * AICC Evaluation object\n */\nclass CMIEvaluation extends BaseCMI {\n  /**\n   * Constructor for AICC Evaluation object\n   */\n  constructor() {\n    super();\n\n    this.comments = new CMIEvaluationComments();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.comments?.initialize();\n  }\n\n  /**\n   * toJSON for cmi.evaluation object\n   * @return {{comments: CMIEvaluationComments}}\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'comments': this.comments,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing AICC's cmi.evaluation.comments object\n */\nclass CMIEvaluationComments extends CMIArray {\n  /**\n   * Constructor for AICC Evaluation Comments object\n   */\n  constructor() {\n    super({\n      children: aicc_constants.comments_children,\n      errorCode: aicc_error_codes.INVALID_SET_VALUE,\n      errorClass: AICCValidationError,\n    });\n  }\n}\n\n/**\n * StudentPreferences class for AICC\n */\nclass AICCStudentPreferences extends Scorm12CMI.CMIStudentPreference {\n  /**\n   * Constructor for AICC Student Preferences object\n   */\n  constructor() {\n    super(aicc_constants.student_preference_children);\n\n    this.windows = new CMIArray({\n      errorCode: aicc_error_codes.INVALID_SET_VALUE,\n      errorClass: AICCValidationError,\n      children: '',\n    });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.windows?.initialize();\n  }\n\n  #lesson_type = '';\n  #text_color = '';\n  #text_location = '';\n  #text_size = '';\n  #video = '';\n\n  /**\n   * Getter for #lesson_type\n   * @return {string}\n   */\n  get lesson_type(): string {\n    return this.#lesson_type;\n  }\n\n  /**\n   * Setter for #lesson_type\n   * @param {string} lesson_type\n   */\n  set lesson_type(lesson_type: string) {\n    if (checkAICCValidFormat(lesson_type, aicc_regex.CMIString256)) {\n      this.#lesson_type = lesson_type;\n    }\n  }\n\n  /**\n   * Getter for #text_color\n   * @return {string}\n   */\n  get text_color(): string {\n    return this.#text_color;\n  }\n\n  /**\n   * Setter for #text_color\n   * @param {string} text_color\n   */\n  set text_color(text_color: string) {\n    if (checkAICCValidFormat(text_color, aicc_regex.CMIString256)) {\n      this.#text_color = text_color;\n    }\n  }\n\n  /**\n   * Getter for #text_location\n   * @return {string}\n   */\n  get text_location(): string {\n    return this.#text_location;\n  }\n\n  /**\n   * Setter for #text_location\n   * @param {string} text_location\n   */\n  set text_location(text_location: string) {\n    if (checkAICCValidFormat(text_location, aicc_regex.CMIString256)) {\n      this.#text_location = text_location;\n    }\n  }\n\n  /**\n   * Getter for #text_size\n   * @return {string}\n   */\n  get text_size(): string {\n    return this.#text_size;\n  }\n\n  /**\n   * Setter for #text_size\n   * @param {string} text_size\n   */\n  set text_size(text_size: string) {\n    if (checkAICCValidFormat(text_size, aicc_regex.CMIString256)) {\n      this.#text_size = text_size;\n    }\n  }\n\n  /**\n   * Getter for #video\n   * @return {string}\n   */\n  get video(): string {\n    return this.#video;\n  }\n\n  /**\n   * Setter for #video\n   * @param {string} video\n   */\n  set video(video: string) {\n    if (checkAICCValidFormat(video, aicc_regex.CMIString256)) {\n      this.#video = video;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_preference\n   *\n   * @return {\n   *    {\n   *      audio: string,\n   *      language: string,\n   *      speed: string,\n   *      text: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'audio': this.audio,\n      'language': this.language,\n      'lesson_type': this.lesson_type,\n      'speed': this.speed,\n      'text': this.text,\n      'text_color': this.text_color,\n      'text_location': this.text_location,\n      'text_size': this.text_size,\n      'video': this.video,\n      'windows': this.windows,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * StudentData class for AICC\n */\nclass AICCCMIStudentData extends Scorm12CMI.CMIStudentData {\n  /**\n   * Constructor for AICC StudentData object\n   */\n  constructor() {\n    super(aicc_constants.student_data_children);\n\n    this.tries = new CMITries();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.tries?.initialize();\n  }\n\n  #tries_during_lesson = '';\n\n  /**\n   * Getter for tries_during_lesson\n   * @return {string}\n   */\n  get tries_during_lesson() {\n    return this.#tries_during_lesson;\n  }\n\n  /**\n   * Setter for #tries_during_lesson. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} tries_during_lesson\n   */\n  set tries_during_lesson(tries_during_lesson) {\n    !this.initialized ?\n        this.#tries_during_lesson = tries_during_lesson :\n        throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for cmi.student_data object\n   * @return {\n   *    {\n   *      mastery_score: string,\n   *      max_time_allowed: string,\n   *      time_limit_action: string,\n   *      tries: CMITries\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'mastery_score': this.mastery_score,\n      'max_time_allowed': this.max_time_allowed,\n      'time_limit_action': this.time_limit_action,\n      'tries': this.tries,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing the AICC cmi.student_demographics object\n */\nexport class CMIStudentDemographics extends BaseCMI {\n  /**\n   * Constructor for AICC StudentDemographics object\n   */\n  constructor() {\n    super();\n  }\n\n  #_children = aicc_constants.student_demographics_children;\n  #city = '';\n  #class = '';\n  #company = '';\n  #country = '';\n  #experience = '';\n  #familiar_name = '';\n  #instructor_name = '';\n  #title = '';\n  #native_language = '';\n  #state = '';\n  #street_address = '';\n  #telephone = '';\n  #years_experience = '';\n\n  /**\n   * Getter for _children\n   * @return {string}\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Getter for city\n   * @return {string}\n   */\n  get city() {\n    return this.#city;\n  }\n\n  /**\n   * Setter for #city. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} city\n   */\n  set city(city) {\n    !this.initialized ?\n        this.#city = city :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for class\n   * @return {string}\n   */\n  get class() {\n    return this.#class;\n  }\n\n  /**\n   * Setter for #class. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} clazz\n   */\n  set class(clazz) {\n    !this.initialized ?\n        this.#class = clazz :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for company\n   * @return {string}\n   */\n  get company() {\n    return this.#company;\n  }\n\n  /**\n   * Setter for #company. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} company\n   */\n  set company(company) {\n    !this.initialized ?\n        this.#company = company :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for country\n   * @return {string}\n   */\n  get country() {\n    return this.#country;\n  }\n\n  /**\n   * Setter for #country. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} country\n   */\n  set country(country) {\n    !this.initialized ?\n        this.#country = country :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for experience\n   * @return {string}\n   */\n  get experience() {\n    return this.#experience;\n  }\n\n  /**\n   * Setter for #experience. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} experience\n   */\n  set experience(experience) {\n    !this.initialized ?\n        this.#experience = experience :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for familiar_name\n   * @return {string}\n   */\n  get familiar_name() {\n    return this.#familiar_name;\n  }\n\n  /**\n   * Setter for #familiar_name. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} familiar_name\n   */\n  set familiar_name(familiar_name) {\n    !this.initialized ?\n        this.#familiar_name = familiar_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for instructor_name\n   * @return {string}\n   */\n  get instructor_name() {\n    return this.#instructor_name;\n  }\n\n  /**\n   * Setter for #instructor_name. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} instructor_name\n   */\n  set instructor_name(instructor_name) {\n    !this.initialized ?\n        this.#instructor_name = instructor_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for title\n   * @return {string}\n   */\n  get title() {\n    return this.#title;\n  }\n\n  /**\n   * Setter for #title. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} title\n   */\n  set title(title) {\n    !this.initialized ?\n        this.#title = title :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for native_language\n   * @return {string}\n   */\n  get native_language() {\n    return this.#native_language;\n  }\n\n  /**\n   * Setter for #native_language. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} native_language\n   */\n  set native_language(native_language) {\n    !this.initialized ?\n        this.#native_language = native_language :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for state\n   * @return {string}\n   */\n  get state() {\n    return this.#state;\n  }\n\n  /**\n   * Setter for #state. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} state\n   */\n  set state(state) {\n    !this.initialized ?\n        this.#state = state :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for street_address\n   * @return {string}\n   */\n  get street_address() {\n    return this.#street_address;\n  }\n\n  /**\n   * Setter for #street_address. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} street_address\n   */\n  set street_address(street_address) {\n    !this.initialized ?\n        this.#street_address = street_address :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for telephone\n   * @return {string}\n   */\n  get telephone() {\n    return this.#telephone;\n  }\n\n  /**\n   * Setter for #telephone. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} telephone\n   */\n  set telephone(telephone) {\n    !this.initialized ?\n        this.#telephone = telephone :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for years_experience\n   * @return {string}\n   */\n  get years_experience() {\n    return this.#years_experience;\n  }\n\n  /**\n   * Setter for #years_experience. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} years_experience\n   */\n  set years_experience(years_experience) {\n    !this.initialized ?\n        this.#years_experience = years_experience :\n        throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for cmi.student_demographics object\n   * @return {\n   *      {\n   *        city: string,\n   *        class: string,\n   *        company: string,\n   *        country: string,\n   *        experience: string,\n   *        familiar_name: string,\n   *        instructor_name: string,\n   *        title: string,\n   *        native_language: string,\n   *        state: string,\n   *        street_address: string,\n   *        telephone: string,\n   *        years_experience: string\n   *      }\n   *    }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'city': this.city,\n      'class': this.class,\n      'company': this.company,\n      'country': this.country,\n      'experience': this.experience,\n      'familiar_name': this.familiar_name,\n      'instructor_name': this.instructor_name,\n      'title': this.title,\n      'native_language': this.native_language,\n      'state': this.state,\n      'street_address': this.street_address,\n      'telephone': this.telephone,\n      'years_experience': this.years_experience,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing the AICC cmi.paths object\n */\nexport class CMIPaths extends CMIArray {\n  /**\n   * Constructor for inline Paths Array class\n   */\n  constructor() {\n    super({children: aicc_constants.paths_children});\n  }\n}\n\n/**\n * Class for AICC Paths\n */\nexport class CMIPathsObject extends BaseCMI {\n  /**\n   * Constructor for AICC Paths objects\n   */\n  constructor() {\n    super();\n  }\n\n  #location_id = '';\n  #date = '';\n  #time = '';\n  #status = '';\n  #why_left = '';\n  #time_in_element = '';\n\n  /**\n   * Getter for #location_id\n   * @return {string}\n   */\n  get location_id() {\n    return this.#location_id;\n  }\n\n  /**\n   * Setter for #location_id\n   * @param {string} location_id\n   */\n  set location_id(location_id) {\n    if (checkAICCValidFormat(location_id, aicc_regex.CMIString256)) {\n      this.#location_id = location_id;\n    }\n  }\n\n  /**\n   * Getter for #date\n   * @return {string}\n   */\n  get date() {\n    return this.#date;\n  }\n\n  /**\n   * Setter for #date\n   * @param {string} date\n   */\n  set date(date) {\n    if (checkAICCValidFormat(date, aicc_regex.CMIString256)) {\n      this.#date = date;\n    }\n  }\n\n  /**\n   * Getter for #time\n   * @return {string}\n   */\n  get time() {\n    return this.#time;\n  }\n\n  /**\n   * Setter for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (checkAICCValidFormat(time, aicc_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * Getter for #status\n   * @return {string}\n   */\n  get status() {\n    return this.#status;\n  }\n\n  /**\n   * Setter for #status\n   * @param {string} status\n   */\n  set status(status) {\n    if (checkAICCValidFormat(status, aicc_regex.CMIStatus2)) {\n      this.#status = status;\n    }\n  }\n\n  /**\n   * Getter for #why_left\n   * @return {string}\n   */\n  get why_left() {\n    return this.#why_left;\n  }\n\n  /**\n   * Setter for #why_left\n   * @param {string} why_left\n   */\n  set why_left(why_left) {\n    if (checkAICCValidFormat(why_left, aicc_regex.CMIString256)) {\n      this.#why_left = why_left;\n    }\n  }\n\n  /**\n   * Getter for #time_in_element\n   * @return {string}\n   */\n  get time_in_element() {\n    return this.#time_in_element;\n  }\n\n  /**\n   * Setter for #time_in_element\n   * @param {string} time_in_element\n   */\n  set time_in_element(time_in_element) {\n    if (checkAICCValidFormat(time_in_element, aicc_regex.CMITime)) {\n      this.#time_in_element = time_in_element;\n    }\n  }\n\n  /**\n   * toJSON for cmi.paths.n object\n   * @return {\n   *    {\n   *      location_id: string,\n   *      date: string,\n   *      time: string,\n   *      status: string,\n   *      why_left: string,\n   *      time_in_element: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'location_id': this.location_id,\n      'date': this.date,\n      'time': this.time,\n      'status': this.status,\n      'why_left': this.why_left,\n      'time_in_element': this.time_in_element,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing the AICC cmi.student_data.tries object\n */\nexport class CMITries extends CMIArray {\n  /**\n   * Constructor for inline Tries Array class\n   */\n  constructor() {\n    super({children: aicc_constants.tries_children});\n  }\n}\n\n/**\n * Class for AICC Tries\n */\nexport class CMITriesObject extends BaseCMI {\n  /**\n   * Constructor for AICC Tries object\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: aicc_constants.score_children,\n          score_range: aicc_regex.score_range,\n          invalidErrorCode: aicc_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: aicc_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: aicc_error_codes.VALUE_OUT_OF_RANGE,\n          errorClass: AICCValidationError,\n        });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  #status = '';\n  #time = '';\n\n  /**\n   * Getter for #status\n   * @return {string}\n   */\n  get status() {\n    return this.#status;\n  }\n\n  /**\n   * Setter for #status\n   * @param {string} status\n   */\n  set status(status) {\n    if (checkAICCValidFormat(status, aicc_regex.CMIStatus2)) {\n      this.#status = status;\n    }\n  }\n\n  /**\n   * Getter for #time\n   * @return {string}\n   */\n  get time() {\n    return this.#time;\n  }\n\n  /**\n   * Setter for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (checkAICCValidFormat(time, aicc_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_data.tries.n object\n   * @return {\n   *    {\n   *      status: string,\n   *      time: string,\n   *      score: CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'status': this.status,\n      'time': this.time,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for cmi.student_data.attempt_records array\n */\nexport class CMIAttemptRecords extends CMIArray {\n  /**\n   * Constructor for inline Tries Array class\n   */\n  constructor() {\n    super({children: aicc_constants.attempt_records_children});\n  }\n}\n\n/**\n * Class for AICC Attempt Records\n */\nexport class CMIAttemptRecordsObject extends BaseCMI {\n  /**\n   * Constructor for AICC Attempt Records object\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: aicc_constants.score_children,\n          score_range: aicc_regex.score_range,\n          invalidErrorCode: aicc_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: aicc_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: aicc_error_codes.VALUE_OUT_OF_RANGE,\n          errorClass: AICCValidationError,\n        });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  #lesson_status = '';\n\n  /**\n   * Getter for #lesson_status\n   * @return {string}\n   */\n  get lesson_status() {\n    return this.#lesson_status;\n  }\n\n  /**\n   * Setter for #lesson_status\n   * @param {string} lesson_status\n   */\n  set lesson_status(lesson_status) {\n    if (checkAICCValidFormat(lesson_status, aicc_regex.CMIStatus2)) {\n      this.#lesson_status = lesson_status;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_data.attempt_records.n object\n   * @return {\n   *    {\n   *      status: string,\n   *      time: string,\n   *      score: CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'lesson_status': this.lesson_status,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for AICC Evaluation Comments\n */\nexport class CMIEvaluationCommentsObject extends BaseCMI {\n  /**\n   * Constructor for Evaluation Comments\n   */\n  constructor() {\n    super();\n  }\n\n  #content = '';\n  #location = '';\n  #time = '';\n\n  /**\n   * Getter for #content\n   * @return {string}\n   */\n  get content() {\n    return this.#content;\n  }\n\n  /**\n   * Setter for #content\n   * @param {string} content\n   */\n  set content(content) {\n    if (checkAICCValidFormat(content, aicc_regex.CMIString256)) {\n      this.#content = content;\n    }\n  }\n\n  /**\n   * Getter for #location\n   * @return {string}\n   */\n  get location() {\n    return this.#location;\n  }\n\n  /**\n   * Setter for #location\n   * @param {string} location\n   */\n  set location(location) {\n    if (checkAICCValidFormat(location, aicc_regex.CMIString256)) {\n      this.#location = location;\n    }\n  }\n\n  /**\n   * Getter for #time\n   * @return {string}\n   */\n  get time() {\n    return this.#time;\n  }\n\n  /**\n   * Setting for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (checkAICCValidFormat(time, aicc_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * toJSON for cmi.evaulation.comments.n object\n   * @return {\n   *    {\n   *      content: string,\n   *      location: string,\n   *      time: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'content': this.content,\n      'location': this.location,\n      'time': this.time,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\nimport APIConstants from '../constants/api_constants';\nimport ErrorCodes from '../constants/error_codes';\nimport Regex from '../constants/regex';\n\nconst scorm12_constants = APIConstants.scorm12;\nconst scorm12_regex = Regex.scorm12;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * Check if the value matches the proper format. If not, throw proper error code.\n *\n * @param {string} value\n * @param {string} regexPattern\n * @param {number} errorCode\n * @param {class} errorClass\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nexport function checkValidFormat(\n    value: String,\n    regexPattern: String,\n    errorCode: number,\n    errorClass: function,\n    allowEmptyString?: boolean) {\n  const formatRegex = new RegExp(regexPattern);\n  const matches = value.match(formatRegex);\n  if (allowEmptyString && value === '') {\n    return true;\n  }\n  if (value === undefined || !matches || matches[0] === '') {\n    throw new errorClass.prototype.constructor(errorCode);\n  }\n  return true;\n}\n\n/**\n * Check if the value matches the proper range. If not, throw proper error code.\n *\n * @param {*} value\n * @param {string} rangePattern\n * @param {number} errorCode\n * @param {class} errorClass\n * @return {boolean}\n */\nexport function checkValidRange(\n    value: any,\n    rangePattern: String,\n    errorCode: number,\n    errorClass: function) {\n  const ranges = rangePattern.split('#');\n  value = value * 1.0;\n  if (value >= ranges[0]) {\n    if ((ranges[1] === '*') || (value <= ranges[1])) {\n      return true;\n    } else {\n      throw new errorClass.prototype.constructor(errorCode);\n    }\n  } else {\n    throw new errorClass.prototype.constructor(errorCode);\n  }\n}\n\n/**\n * Base class for API cmi objects\n */\nexport class BaseCMI {\n  jsonString = false;\n  #initialized = false;\n  #start_time;\n\n  /**\n   * Constructor for BaseCMI, just marks the class as abstract\n   */\n  constructor() {\n    if (new.target === BaseCMI) {\n      throw new TypeError('Cannot construct BaseCMI instances directly');\n    }\n  }\n\n  /**\n   * Getter for #initialized\n   * @return {boolean}\n   */\n  get initialized() {\n    return this.#initialized;\n  }\n\n  /**\n   * Getter for #start_time\n   * @return {Number}\n   */\n  get start_time() {\n    return this.#start_time;\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    this.#initialized = true;\n  }\n\n  /**\n   * Called when the player should override the 'session_time' provided by\n   * the module\n   */\n  setStartTime() {\n    this.#start_time = new Date().getTime();\n  }\n}\n\n/**\n * Base class for cmi *.score objects\n */\nexport class CMIScore extends BaseCMI {\n  /**\n   * Constructor for *.score\n   * @param {string} score_children\n   * @param {string} score_range\n   * @param {string} max\n   * @param {number} invalidErrorCode\n   * @param {number} invalidTypeCode\n   * @param {number} invalidRangeCode\n   * @param {string} decimalRegex\n   * @param {class} errorClass\n   */\n  constructor(\n      {\n        score_children,\n        score_range,\n        max,\n        invalidErrorCode,\n        invalidTypeCode,\n        invalidRangeCode,\n        decimalRegex,\n        errorClass,\n      }) {\n    super();\n\n    this.#_children = score_children ||\n        scorm12_constants.score_children;\n    this.#_score_range = !score_range ? false : scorm12_regex.score_range;\n    this.#max = (max || max === '') ? max : '100';\n    this.#_invalid_error_code = invalidErrorCode ||\n        scorm12_error_codes.INVALID_SET_VALUE;\n    this.#_invalid_type_code = invalidTypeCode ||\n        scorm12_error_codes.TYPE_MISMATCH;\n    this.#_invalid_range_code = invalidRangeCode ||\n        scorm12_error_codes.VALUE_OUT_OF_RANGE;\n    this.#_decimal_regex = decimalRegex ||\n        scorm12_regex.CMIDecimal;\n    this.#_error_class = errorClass;\n  }\n\n  #_children;\n  #_score_range;\n  #_invalid_error_code;\n  #_invalid_type_code;\n  #_invalid_range_code;\n  #_decimal_regex;\n  #_error_class;\n  #raw = '';\n  #min = '';\n  #max;\n\n  /**\n   * Getter for _children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for _children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throw new this.#_error_class.prototype.constructor(this.#_invalid_error_code);\n  }\n\n  /**\n   * Getter for #raw\n   * @return {string}\n   */\n  get raw() {\n    return this.#raw;\n  }\n\n  /**\n   * Setter for #raw\n   * @param {string} raw\n   */\n  set raw(raw) {\n    if (checkValidFormat(raw, this.#_decimal_regex, this.#_invalid_type_code, this.#_error_class) &&\n        (!this.#_score_range ||\n            checkValidRange(raw, this.#_score_range, this.#_invalid_range_code, this.#_error_class))) {\n      this.#raw = raw;\n    }\n  }\n\n  /**\n   * Getter for #min\n   * @return {string}\n   */\n  get min() {\n    return this.#min;\n  }\n\n  /**\n   * Setter for #min\n   * @param {string} min\n   */\n  set min(min) {\n    if (checkValidFormat(min, this.#_decimal_regex, this.#_invalid_type_code, this.#_error_class) &&\n        (!this.#_score_range ||\n            checkValidRange(min, this.#_score_range, this.#_invalid_range_code, this.#_error_class))) {\n      this.#min = min;\n    }\n  }\n\n  /**\n   * Getter for #max\n   * @return {string}\n   */\n  get max() {\n    return this.#max;\n  }\n\n  /**\n   * Setter for #max\n   * @param {string} max\n   */\n  set max(max) {\n    if (checkValidFormat(max, this.#_decimal_regex, this.#_invalid_type_code, this.#_error_class) &&\n        (!this.#_score_range ||\n            checkValidRange(max, this.#_score_range, this.#_invalid_range_code, this.#_error_class))) {\n      this.#max = max;\n    }\n  }\n\n  /**\n   * toJSON for *.score\n   * @return {{min: string, max: string, raw: string}}\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'raw': this.raw,\n      'min': this.min,\n      'max': this.max,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Base class for cmi *.n objects\n */\nexport class CMIArray extends BaseCMI {\n  /**\n   * Constructor cmi *.n arrays\n   * @param {string} children\n   * @param {number} errorCode\n   * @param {class} errorClass\n   */\n  constructor({children, errorCode, errorClass}) {\n    super();\n    this.#_children = children;\n    this.#errorCode = errorCode;\n    this.#errorClass = errorClass;\n    this.childArray = [];\n  }\n\n  #errorCode;\n  #errorClass;\n  #_children;\n\n  /**\n   * Getter for _children\n   * @return {*}\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for _children. Just throws an error.\n   * @param {string} _children\n   */\n  set _children(_children) {\n    throw new this.#errorClass.prototype.constructor(this.#errorCode);\n  }\n\n  /**\n   * Getter for _count\n   * @return {number}\n   */\n  get _count() {\n    return this.childArray.length;\n  }\n\n  /**\n   * Setter for _count. Just throws an error.\n   * @param {number} _count\n   */\n  set _count(_count) {\n    throw new this.#errorClass.prototype.constructor(this.#errorCode);\n  }\n\n  /**\n   * toJSON for *.n arrays\n   * @return {object}\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {};\n    for (let i = 0; i < this.childArray.length; i++) {\n      result[i + ''] = this.childArray[i];\n    }\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\nimport {\n  BaseCMI,\n  checkValidFormat,\n  checkValidRange,\n  CMIArray,\n  CMIScore,\n} from './common';\nimport APIConstants from '../constants/api_constants';\nimport ErrorCodes from '../constants/error_codes';\nimport Regex from '../constants/regex';\nimport {Scorm12ValidationError} from '../exceptions';\nimport * as Utilities from '../utilities';\nimport * as Util from '../utilities';\n\nconst scorm12_constants = APIConstants.scorm12;\nconst scorm12_regex = Regex.scorm12;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * Helper method for throwing Read Only error\n */\nexport function throwReadOnlyError() {\n  throw new Scorm12ValidationError(scorm12_error_codes.READ_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Write Only error\n */\nexport function throwWriteOnlyError() {\n  throw new Scorm12ValidationError(scorm12_error_codes.WRITE_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Invalid Set error\n */\nfunction throwInvalidValueError() {\n  throw new Scorm12ValidationError(scorm12_error_codes.INVALID_SET_VALUE);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} regexPattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nexport function check12ValidFormat(\n    value: String,\n    regexPattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidFormat(\n      value,\n      regexPattern,\n      scorm12_error_codes.TYPE_MISMATCH,\n      Scorm12ValidationError,\n      allowEmptyString\n  );\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} rangePattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nexport function check12ValidRange(\n    value: any,\n    rangePattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidRange(\n      value,\n      rangePattern,\n      scorm12_error_codes.VALUE_OUT_OF_RANGE,\n      Scorm12ValidationError,\n      allowEmptyString\n  );\n}\n\n/**\n * Class representing the cmi object for SCORM 1.2\n */\nexport class CMI extends BaseCMI {\n  #_children = '';\n  #_version = '3.4';\n  #launch_data = '';\n  #comments = '';\n  #comments_from_lms = '';\n\n  student_data = null;\n\n  /**\n   * Constructor for the SCORM 1.2 cmi object\n   * @param {string} cmi_children\n   * @param {(CMIStudentData|AICCCMIStudentData)} student_data\n   * @param {boolean} initialized\n   */\n  constructor(cmi_children, student_data, initialized: boolean) {\n    super();\n\n    if (initialized) this.initialize();\n\n    this.#_children = cmi_children ?\n        cmi_children :\n        scorm12_constants.cmi_children;\n    this.core = new CMICore();\n    this.objectives = new CMIObjectives();\n    this.student_data = student_data ? student_data : new CMIStudentData();\n    this.student_preference = new CMIStudentPreference();\n    this.interactions = new CMIInteractions();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.core?.initialize();\n    this.objectives?.initialize();\n    this.student_data?.initialize();\n    this.student_preference?.initialize();\n    this.interactions?.initialize();\n  }\n\n  /**\n   * toJSON for cmi\n   *\n   * @return {\n   *    {\n   *      suspend_data: string,\n   *      launch_data: string,\n   *      comments: string,\n   *      comments_from_lms: string,\n   *      core: CMICore,\n   *      objectives: CMIObjectives,\n   *      student_data: CMIStudentData,\n   *      student_preference: CMIStudentPreference,\n   *      interactions: CMIInteractions\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'suspend_data': this.suspend_data,\n      'launch_data': this.launch_data,\n      'comments': this.comments,\n      'comments_from_lms': this.comments_from_lms,\n      'core': this.core,\n      'objectives': this.objectives,\n      'student_data': this.student_data,\n      'student_preference': this.student_preference,\n      'interactions': this.interactions,\n    };\n    delete this.jsonString;\n    return result;\n  }\n\n  /**\n   * Getter for #_version\n   * @return {string}\n   */\n  get _version() {\n    return this.#_version;\n  }\n\n  /**\n   * Setter for #_version. Just throws an error.\n   * @param {string} _version\n   */\n  set _version(_version) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_version. Just throws an error.\n   * @param {string} _children\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #suspend_data\n   * @return {string}\n   */\n  get suspend_data() {\n    return this.core?.suspend_data;\n  }\n\n  /**\n   * Setter for #suspend_data\n   * @param {string} suspend_data\n   */\n  set suspend_data(suspend_data) {\n    if (this.core) {\n      this.core.suspend_data = suspend_data;\n    }\n  }\n\n  /**\n   * Getter for #launch_data\n   * @return {string}\n   */\n  get launch_data() {\n    return this.#launch_data;\n  }\n\n  /**\n   * Setter for #launch_data. Can only be called before  initialization.\n   * @param {string} launch_data\n   */\n  set launch_data(launch_data) {\n    !this.initialized ? this.#launch_data = launch_data : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #comments\n   * @return {string}\n   */\n  get comments() {\n    return this.#comments;\n  }\n\n  /**\n   * Setter for #comments\n   * @param {string} comments\n   */\n  set comments(comments) {\n    if (check12ValidFormat(comments, scorm12_regex.CMIString4096, true)) {\n      this.#comments = comments;\n    }\n  }\n\n  /**\n   * Getter for #comments_from_lms\n   * @return {string}\n   */\n  get comments_from_lms() {\n    return this.#comments_from_lms;\n  }\n\n  /**\n   * Setter for #comments_from_lms. Can only be called before  initialization.\n   * @param {string} comments_from_lms\n   */\n  set comments_from_lms(comments_from_lms) {\n    !this.initialized ?\n        this.#comments_from_lms = comments_from_lms :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Adds the current session time to the existing total time.\n   *\n   * @return {string}\n   */\n  getCurrentTotalTime() {\n    return this.core.getCurrentTotalTime(this.start_time);\n  }\n}\n\n/**\n * Class representing the cmi.core object\n * @extends BaseCMI\n */\nclass CMICore extends BaseCMI {\n  /**\n   * Constructor for cmi.core\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: scorm12_constants.score_children,\n          score_range: scorm12_regex.score_range,\n          invalidErrorCode: scorm12_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: scorm12_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm12_error_codes.VALUE_OUT_OF_RANGE,\n          errorClass: Scorm12ValidationError,\n        });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  #_children = scorm12_constants.core_children;\n  #student_id = '';\n  #student_name = '';\n  #lesson_location = '';\n  #credit = '';\n  #lesson_status = 'not attempted';\n  #entry = '';\n  #total_time = '';\n  #lesson_mode = 'normal';\n  #exit = '';\n  #session_time = '00:00:00';\n  #suspend_data = '';\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #student_id\n   * @return {string}\n   */\n  get student_id() {\n    return this.#student_id;\n  }\n\n  /**\n   * Setter for #student_id. Can only be called before  initialization.\n   * @param {string} student_id\n   */\n  set student_id(student_id) {\n    !this.initialized ? this.#student_id = student_id : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #student_name\n   * @return {string}\n   */\n  get student_name() {\n    return this.#student_name;\n  }\n\n  /**\n   * Setter for #student_name. Can only be called before  initialization.\n   * @param {string} student_name\n   */\n  set student_name(student_name) {\n    !this.initialized ?\n        this.#student_name = student_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #lesson_location\n   * @return {string}\n   */\n  get lesson_location() {\n    return this.#lesson_location;\n  }\n\n  /**\n   * Setter for #lesson_location\n   * @param {string} lesson_location\n   */\n  set lesson_location(lesson_location) {\n    if (check12ValidFormat(lesson_location, scorm12_regex.CMIString256, true)) {\n      this.#lesson_location = lesson_location;\n    }\n  }\n\n  /**\n   * Getter for #credit\n   * @return {string}\n   */\n  get credit() {\n    return this.#credit;\n  }\n\n  /**\n   * Setter for #credit. Can only be called before  initialization.\n   * @param {string} credit\n   */\n  set credit(credit) {\n    !this.initialized ? this.#credit = credit : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #lesson_status\n   * @return {string}\n   */\n  get lesson_status() {\n    return this.#lesson_status;\n  }\n\n  /**\n   * Setter for #lesson_status\n   * @param {string} lesson_status\n   */\n  set lesson_status(lesson_status) {\n    if (this.initialized) {\n      if (check12ValidFormat(lesson_status, scorm12_regex.CMIStatus)) {\n        this.#lesson_status = lesson_status;\n      }\n    } else {\n      if (check12ValidFormat(lesson_status, scorm12_regex.CMIStatus2)) {\n        this.#lesson_status = lesson_status;\n      }\n    }\n  }\n\n  /**\n   * Getter for #entry\n   * @return {string}\n   */\n  get entry() {\n    return this.#entry;\n  }\n\n  /**\n   * Setter for #entry. Can only be called before  initialization.\n   * @param {string} entry\n   */\n  set entry(entry) {\n    !this.initialized ? this.#entry = entry : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #total_time\n   * @return {string}\n   */\n  get total_time() {\n    return this.#total_time;\n  }\n\n  /**\n   * Setter for #total_time. Can only be called before  initialization.\n   * @param {string} total_time\n   */\n  set total_time(total_time) {\n    !this.initialized ? this.#total_time = total_time : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #lesson_mode\n   * @return {string}\n   */\n  get lesson_mode() {\n    return this.#lesson_mode;\n  }\n\n  /**\n   * Setter for #lesson_mode. Can only be called before  initialization.\n   * @param {string} lesson_mode\n   */\n  set lesson_mode(lesson_mode) {\n    !this.initialized ? this.#lesson_mode = lesson_mode : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #exit. Should only be called during JSON export.\n   * @return {*}\n   */\n  get exit() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#exit;\n  }\n\n  /**\n   * Setter for #exit\n   * @param {string} exit\n   */\n  set exit(exit) {\n    if (check12ValidFormat(exit, scorm12_regex.CMIExit, true)) {\n      this.#exit = exit;\n    }\n  }\n\n  /**\n   * Getter for #session_time. Should only be called during JSON export.\n   * @return {*}\n   */\n  get session_time() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#session_time;\n  }\n\n  /**\n   * Setter for #session_time\n   * @param {string} session_time\n   */\n  set session_time(session_time) {\n    if (check12ValidFormat(session_time, scorm12_regex.CMITimespan)) {\n      this.#session_time = session_time;\n    }\n  }\n\n  /**\n   * Getter for #suspend_data\n   * @return {string}\n   */\n  get suspend_data() {\n    return this.#suspend_data;\n  }\n\n  /**\n   * Setter for #suspend_data\n   * @param {string} suspend_data\n   */\n  set suspend_data(suspend_data) {\n    if (check12ValidFormat(suspend_data, scorm12_regex.CMIString4096, true)) {\n      this.#suspend_data = suspend_data;\n    }\n  }\n\n  /**\n   * Adds the current session time to the existing total time.\n   * @param {Number} start_time\n   * @return {string}\n   */\n  getCurrentTotalTime(start_time: Number) {\n    let sessionTime = this.#session_time;\n    const startTime = start_time;\n\n    if (typeof startTime !== 'undefined' && startTime !== null) {\n      const seconds = new Date().getTime() - startTime;\n      sessionTime = Util.getSecondsAsHHMMSS(seconds / 1000);\n    }\n\n    return Utilities.addHHMMSSTimeStrings(\n        this.#total_time,\n        sessionTime,\n        new RegExp(scorm12_regex.CMITimespan),\n    );\n  }\n\n  /**\n   * toJSON for cmi.core\n   *\n   * @return {\n   *    {\n   *      student_name: string,\n   *      entry: string,\n   *      exit: string,\n   *      score: CMIScore,\n   *      student_id: string,\n   *      lesson_mode: string,\n   *      lesson_location: string,\n   *      lesson_status: string,\n   *      credit: string,\n   *      session_time: *\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'student_id': this.student_id,\n      'student_name': this.student_name,\n      'lesson_location': this.lesson_location,\n      'credit': this.credit,\n      'lesson_status': this.lesson_status,\n      'entry': this.entry,\n      'lesson_mode': this.lesson_mode,\n      'exit': this.exit,\n      'session_time': this.session_time,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.objectives object\n * @extends CMIArray\n */\nclass CMIObjectives extends CMIArray {\n  /**\n   * Constructor for cmi.objectives\n   */\n  constructor() {\n    super({\n      children: scorm12_constants.objectives_children,\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      errorClass: Scorm12ValidationError,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.student_data object\n * @extends BaseCMI\n */\nexport class CMIStudentData extends BaseCMI {\n  #_children;\n  #mastery_score = '';\n  #max_time_allowed = '';\n  #time_limit_action = '';\n\n  /**\n   * Constructor for cmi.student_data\n   * @param {string} student_data_children\n   */\n  constructor(student_data_children) {\n    super();\n\n    this.#_children = student_data_children ?\n        student_data_children :\n        scorm12_constants.student_data_children;\n  }\n\n  /**\n   * Getter for #_children\n   * @return {*}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #master_score\n   * @return {string}\n   */\n  get mastery_score() {\n    return this.#mastery_score;\n  }\n\n  /**\n   * Setter for #master_score. Can only be called before  initialization.\n   * @param {string} mastery_score\n   */\n  set mastery_score(mastery_score) {\n    !this.initialized ?\n        this.#mastery_score = mastery_score :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #max_time_allowed\n   * @return {string}\n   */\n  get max_time_allowed() {\n    return this.#max_time_allowed;\n  }\n\n  /**\n   * Setter for #max_time_allowed. Can only be called before  initialization.\n   * @param {string} max_time_allowed\n   */\n  set max_time_allowed(max_time_allowed) {\n    !this.initialized ?\n        this.#max_time_allowed = max_time_allowed :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #time_limit_action\n   * @return {string}\n   */\n  get time_limit_action() {\n    return this.#time_limit_action;\n  }\n\n  /**\n   * Setter for #time_limit_action. Can only be called before  initialization.\n   * @param {string} time_limit_action\n   */\n  set time_limit_action(time_limit_action) {\n    !this.initialized ?\n        this.#time_limit_action = time_limit_action :\n        throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for cmi.student_data\n   *\n   * @return {\n   *    {\n   *      max_time_allowed: string,\n   *      time_limit_action: string,\n   *      mastery_score: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'mastery_score': this.mastery_score,\n      'max_time_allowed': this.max_time_allowed,\n      'time_limit_action': this.time_limit_action,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.student_preference object\n * @extends BaseCMI\n */\nexport class CMIStudentPreference extends BaseCMI {\n  #_children;\n\n  /**\n   * Constructor for cmi.student_preference\n   * @param {string} student_preference_children\n   */\n  constructor(student_preference_children) {\n    super();\n\n    this.#_children = student_preference_children ?\n        student_preference_children :\n        scorm12_constants.student_preference_children;\n  }\n\n  #audio = '';\n  #language = '';\n  #speed = '';\n  #text = '';\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #audio\n   * @return {string}\n   */\n  get audio() {\n    return this.#audio;\n  }\n\n  /**\n   * Setter for #audio\n   * @param {string} audio\n   */\n  set audio(audio) {\n    if (check12ValidFormat(audio, scorm12_regex.CMISInteger) &&\n        check12ValidRange(audio, scorm12_regex.audio_range)) {\n      this.#audio = audio;\n    }\n  }\n\n  /**\n   * Getter for #language\n   * @return {string}\n   */\n  get language() {\n    return this.#language;\n  }\n\n  /**\n   * Setter for #language\n   * @param {string} language\n   */\n  set language(language) {\n    if (check12ValidFormat(language, scorm12_regex.CMIString256)) {\n      this.#language = language;\n    }\n  }\n\n  /**\n   * Getter for #speed\n   * @return {string}\n   */\n  get speed() {\n    return this.#speed;\n  }\n\n  /**\n   * Setter for #speed\n   * @param {string} speed\n   */\n  set speed(speed) {\n    if (check12ValidFormat(speed, scorm12_regex.CMISInteger) &&\n        check12ValidRange(speed, scorm12_regex.speed_range)) {\n      this.#speed = speed;\n    }\n  }\n\n  /**\n   * Getter for #text\n   * @return {string}\n   */\n  get text() {\n    return this.#text;\n  }\n\n  /**\n   * Setter for #text\n   * @param {string} text\n   */\n  set text(text) {\n    if (check12ValidFormat(text, scorm12_regex.CMISInteger) &&\n        check12ValidRange(text, scorm12_regex.text_range)) {\n      this.#text = text;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_preference\n   *\n   * @return {\n   *    {\n   *      audio: string,\n   *      language: string,\n   *      speed: string,\n   *      text: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'audio': this.audio,\n      'language': this.language,\n      'speed': this.speed,\n      'text': this.text,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions object\n * @extends BaseCMI\n */\nclass CMIInteractions extends CMIArray {\n  /**\n   * Constructor for cmi.interactions\n   */\n  constructor() {\n    super({\n      children: scorm12_constants.interactions_children,\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      errorClass: Scorm12ValidationError,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions.n object\n * @extends BaseCMI\n */\nexport class CMIInteractionsObject extends BaseCMI {\n  /**\n   * Constructor for cmi.interactions.n object\n   */\n  constructor() {\n    super();\n\n    this.objectives = new CMIArray({\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      errorClass: Scorm12ValidationError,\n      children: scorm12_constants.objectives_children,\n    });\n    this.correct_responses = new CMIArray({\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      errorClass: Scorm12ValidationError,\n      children: scorm12_constants.correct_responses_children,\n    });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.objectives?.initialize();\n    this.correct_responses?.initialize();\n  }\n\n  #id = '';\n  #time = '';\n  #type = '';\n  #weighting = '';\n  #student_response = '';\n  #result = '';\n  #latency = '';\n\n  /**\n   * Getter for #id. Should only be called during JSON export.\n   * @return {*}\n   */\n  get id() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check12ValidFormat(id, scorm12_regex.CMIIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #time. Should only be called during JSON export.\n   * @return {*}\n   */\n  get time() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#time;\n  }\n\n  /**\n   * Setter for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (check12ValidFormat(time, scorm12_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * Getter for #type. Should only be called during JSON export.\n   * @return {*}\n   */\n  get type() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#type;\n  }\n\n  /**\n   * Setter for #type\n   * @param {string} type\n   */\n  set type(type) {\n    if (check12ValidFormat(type, scorm12_regex.CMIType)) {\n      this.#type = type;\n    }\n  }\n\n  /**\n   * Getter for #weighting. Should only be called during JSON export.\n   * @return {*}\n   */\n  get weighting() {\n    return (!this.jsonString) ?\n        throwWriteOnlyError() :\n        this.#weighting;\n  }\n\n  /**\n   * Setter for #weighting\n   * @param {string} weighting\n   */\n  set weighting(weighting) {\n    if (check12ValidFormat(weighting, scorm12_regex.CMIDecimal) &&\n        check12ValidRange(weighting, scorm12_regex.weighting_range)) {\n      this.#weighting = weighting;\n    }\n  }\n\n  /**\n   * Getter for #student_response. Should only be called during JSON export.\n   * @return {*}\n   */\n  get student_response() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#student_response;\n  }\n\n  /**\n   * Setter for #student_response\n   * @param {string} student_response\n   */\n  set student_response(student_response) {\n    if (check12ValidFormat(student_response, scorm12_regex.CMIFeedback, true)) {\n      this.#student_response = student_response;\n    }\n  }\n\n  /**\n   * Getter for #result. Should only be called during JSON export.\n   * @return {*}\n   */\n  get result() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#result;\n  }\n\n  /**\n   * Setter for #result\n   * @param {string} result\n   */\n  set result(result) {\n    if (check12ValidFormat(result, scorm12_regex.CMIResult)) {\n      this.#result = result;\n    }\n  }\n\n  /**\n   * Getter for #latency. Should only be called during JSON export.\n   * @return {*}\n   */\n  get latency() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#latency;\n  }\n\n  /**\n   * Setter for #latency\n   * @param {string} latency\n   */\n  set latency(latency) {\n    if (check12ValidFormat(latency, scorm12_regex.CMITimespan)) {\n      this.#latency = latency;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n\n   *\n   * @return {\n   *    {\n   *      id: string,\n   *      time: string,\n   *      type: string,\n   *      weighting: string,\n   *      student_response: string,\n   *      result: string,\n   *      latency: string,\n   *      objectives: CMIArray,\n   *      correct_responses: CMIArray\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'time': this.time,\n      'type': this.type,\n      'weighting': this.weighting,\n      'student_response': this.student_response,\n      'result': this.result,\n      'latency': this.latency,\n      'objectives': this.objectives,\n      'correct_responses': this.correct_responses,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.objectives.n object\n * @extends BaseCMI\n */\nexport class CMIObjectivesObject extends BaseCMI {\n  /**\n   * Constructor for cmi.objectives.n\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: scorm12_constants.score_children,\n          score_range: scorm12_regex.score_range,\n          invalidErrorCode: scorm12_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: scorm12_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm12_error_codes.VALUE_OUT_OF_RANGE,\n          errorClass: Scorm12ValidationError,\n        });\n  }\n\n  #id = '';\n  #status = '';\n\n  /**\n   * Getter for #id\n   * @return {\"\"}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check12ValidFormat(id, scorm12_regex.CMIIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #status\n   * @return {\"\"}\n   */\n  get status() {\n    return this.#status;\n  }\n\n  /**\n   * Setter for #status\n   * @param {string} status\n   */\n  set status(status) {\n    if (check12ValidFormat(status, scorm12_regex.CMIStatus2)) {\n      this.#status = status;\n    }\n  }\n\n  /**\n   * toJSON for cmi.objectives.n\n   * @return {\n   *    {\n   *      id: string,\n   *      status: string,\n   *      score: CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'status': this.status,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions.n.objectives.n object\n * @extends BaseCMI\n */\nexport class CMIInteractionsObjectivesObject extends BaseCMI {\n  /**\n   * Constructor for cmi.interactions.n.objectives.n\n   */\n  constructor() {\n    super();\n  }\n\n  #id = '';\n\n  /**\n   * Getter for #id\n   * @return {\"\"}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check12ValidFormat(id, scorm12_regex.CMIIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n.objectives.n\n   * @return {\n   *    {\n   *      id: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions.correct_responses.n object\n * @extends BaseCMI\n */\nexport class CMIInteractionsCorrectResponsesObject extends BaseCMI {\n  /**\n   * Constructor for cmi.interactions.correct_responses.n\n   */\n  constructor() {\n    super();\n  }\n\n  #pattern = '';\n\n  /**\n   * Getter for #pattern\n   * @return {string}\n   */\n  get pattern() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#pattern;\n  }\n\n  /**\n   * Setter for #pattern\n   * @param {string} pattern\n   */\n  set pattern(pattern) {\n    if (check12ValidFormat(pattern, scorm12_regex.CMIFeedback, true)) {\n      this.#pattern = pattern;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.correct_responses.n\n   * @return {\n   *    {\n   *      pattern: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'pattern': this.pattern,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for AICC Navigation object\n */\nexport class NAV extends BaseCMI {\n  /**\n   * Constructor for NAV object\n   */\n  constructor() {\n    super();\n  }\n\n  #event = '';\n\n  /**\n   * Getter for #event\n   * @return {string}\n   */\n  get event() {\n    return this.#event;\n  }\n\n  /**\n   * Setter for #event\n   * @param {string} event\n   */\n  set event(event) {\n    if (check12ValidFormat(event, scorm12_regex.NAVEvent)) {\n      this.#event = event;\n    }\n  }\n\n  /**\n   * toJSON for nav object\n   * @return {\n   *    {\n   *      event: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'event': this.event,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\nimport {\n  BaseCMI,\n  checkValidFormat,\n  checkValidRange,\n  CMIArray,\n  CMIScore,\n} from './common';\nimport APIConstants from '../constants/api_constants';\nimport Regex from '../constants/regex';\nimport ErrorCodes from '../constants/error_codes';\nimport Responses from '../constants/response_constants';\nimport {Scorm2004ValidationError} from '../exceptions';\nimport * as Util from '../utilities';\n\nconst scorm2004_constants = APIConstants.scorm2004;\nconst scorm2004_error_codes = ErrorCodes.scorm2004;\nconst learner_responses = Responses.learner;\n\nconst scorm2004_regex = Regex.scorm2004;\n\n/**\n * Helper method for throwing Read Only error\n */\nfunction throwReadOnlyError() {\n  throw new Scorm2004ValidationError(scorm2004_error_codes.READ_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Write Only error\n */\nfunction throwWriteOnlyError() {\n  throw new Scorm2004ValidationError(scorm2004_error_codes.WRITE_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Type Mismatch error\n */\nfunction throwTypeMismatchError() {\n  throw new Scorm2004ValidationError(scorm2004_error_codes.TYPE_MISMATCH);\n}\n\n/**\n * Helper method for throwing Dependency Not Established error\n */\nfunction throwDependencyNotEstablishedError() {\n  throw new Scorm2004ValidationError(scorm2004_error_codes.DEPENDENCY_NOT_ESTABLISHED);\n}\n\n/**\n * Helper method for throwing Dependency Not Established error\n */\nfunction throwGeneralSetError() {\n  throw new Scorm2004ValidationError(scorm2004_error_codes.GENERAL_SET_FAILURE);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} regexPattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nfunction check2004ValidFormat(\n    value: String,\n    regexPattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidFormat(\n      value,\n      regexPattern,\n      scorm2004_error_codes.TYPE_MISMATCH,\n      Scorm2004ValidationError,\n      allowEmptyString,\n  );\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} rangePattern\n * @return {boolean}\n */\nfunction check2004ValidRange(value: any, rangePattern: String) {\n  return checkValidRange(\n      value,\n      rangePattern,\n      scorm2004_error_codes.VALUE_OUT_OF_RANGE,\n      Scorm2004ValidationError,\n  );\n}\n\n/**\n * Class representing cmi object for SCORM 2004\n */\nexport class CMI extends BaseCMI {\n  /**\n   * Constructor for the SCORM 2004 cmi object\n   * @param {boolean} initialized\n   */\n  constructor(initialized: boolean) {\n    super();\n\n    this.learner_preference = new CMILearnerPreference();\n    this.score = new Scorm2004CMIScore();\n    this.comments_from_learner = new CMICommentsFromLearner();\n    this.comments_from_lms = new CMICommentsFromLMS();\n    this.interactions = new CMIInteractions();\n    this.objectives = new CMIObjectives();\n\n    if (initialized) this.initialize();\n  }\n\n  #_version = '1.0';\n  #_children = scorm2004_constants.cmi_children;\n  #completion_status = 'unknown';\n  #completion_threshold = '';\n  #credit = 'credit';\n  #entry = '';\n  #exit = '';\n  #launch_data = '';\n  #learner_id = '';\n  #learner_name = '';\n  #location = '';\n  #max_time_allowed = '';\n  #mode = 'normal';\n  #progress_measure = '';\n  #scaled_passing_score = '';\n  #session_time = 'PT0H0M0S';\n  #success_status = 'unknown';\n  #suspend_data = '';\n  #time_limit_action = 'continue,no message';\n  #total_time = '';\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.learner_preference?.initialize();\n    this.score?.initialize();\n    this.comments_from_learner?.initialize();\n    this.comments_from_lms?.initialize();\n    this.interactions?.initialize();\n    this.objectives?.initialize();\n  }\n\n  /**\n   * Getter for #_version\n   * @return {string}\n   * @private\n   */\n  get _version() {\n    return this.#_version;\n  }\n\n  /**\n   * Setter for #_version. Just throws an error.\n   * @param {string} _version\n   * @private\n   */\n  set _version(_version) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {number} _children\n   * @private\n   */\n  set _children(_children) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #completion_status\n   * @return {string}\n   */\n  get completion_status() {\n    return this.#completion_status;\n  }\n\n  /**\n   * Setter for #completion_status\n   * @param {string} completion_status\n   */\n  set completion_status(completion_status) {\n    if (check2004ValidFormat(completion_status, scorm2004_regex.CMICStatus)) {\n      this.#completion_status = completion_status;\n    }\n  }\n\n  /**\n   * Getter for #completion_threshold\n   * @return {string}\n   */\n  get completion_threshold() {\n    return this.#completion_threshold;\n  }\n\n  /**\n   * Setter for #completion_threshold. Can only be called before  initialization.\n   * @param {string} completion_threshold\n   */\n  set completion_threshold(completion_threshold) {\n    !this.initialized ?\n      this.#completion_threshold = completion_threshold :\n      throwReadOnlyError();\n  }\n\n  /**\n   * Setter for #credit\n   * @return {string}\n   */\n  get credit() {\n    return this.#credit;\n  }\n\n  /**\n   * Setter for #credit. Can only be called before  initialization.\n   * @param {string} credit\n   */\n  set credit(credit) {\n    !this.initialized ? this.#credit = credit : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #entry\n   * @return {string}\n   */\n  get entry() {\n    return this.#entry;\n  }\n\n  /**\n   * Setter for #entry. Can only be called before  initialization.\n   * @param {string} entry\n   */\n  set entry(entry) {\n    !this.initialized ? this.#entry = entry : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #exit. Should only be called during JSON export.\n   * @return {string}\n   */\n  get exit() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#exit;\n  }\n\n  /**\n   * Getter for #exit\n   * @param {string} exit\n   */\n  set exit(exit) {\n    if (check2004ValidFormat(exit, scorm2004_regex.CMIExit, true)) {\n      this.#exit = exit;\n    }\n  }\n\n  /**\n   * Getter for #launch_data\n   * @return {string}\n   */\n  get launch_data() {\n    return this.#launch_data;\n  }\n\n  /**\n   * Setter for #launch_data. Can only be called before  initialization.\n   * @param {string} launch_data\n   */\n  set launch_data(launch_data) {\n    !this.initialized ? this.#launch_data = launch_data : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #learner_id\n   * @return {string}\n   */\n  get learner_id() {\n    return this.#learner_id;\n  }\n\n  /**\n   * Setter for #learner_id. Can only be called before  initialization.\n   * @param {string} learner_id\n   */\n  set learner_id(learner_id) {\n    !this.initialized ? this.#learner_id = learner_id : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #learner_name\n   * @return {string}\n   */\n  get learner_name() {\n    return this.#learner_name;\n  }\n\n  /**\n   * Setter for #learner_name. Can only be called before  initialization.\n   * @param {string} learner_name\n   */\n  set learner_name(learner_name) {\n    !this.initialized ?\n      this.#learner_name = learner_name :\n      throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #location\n   * @return {string}\n   */\n  get location() {\n    return this.#location;\n  }\n\n  /**\n   * Setter for #location\n   * @param {string} location\n   */\n  set location(location) {\n    if (check2004ValidFormat(location, scorm2004_regex.CMIString1000)) {\n      this.#location = location;\n    }\n  }\n\n  /**\n   * Getter for #max_time_allowed\n   * @return {string}\n   */\n  get max_time_allowed() {\n    return this.#max_time_allowed;\n  }\n\n  /**\n   * Setter for #max_time_allowed. Can only be called before  initialization.\n   * @param {string} max_time_allowed\n   */\n  set max_time_allowed(max_time_allowed) {\n    !this.initialized ?\n      this.#max_time_allowed = max_time_allowed :\n      throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #mode\n   * @return {string}\n   */\n  get mode() {\n    return this.#mode;\n  }\n\n  /**\n   * Setter for #mode. Can only be called before  initialization.\n   * @param {string} mode\n   */\n  set mode(mode) {\n    !this.initialized ? this.#mode = mode : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #progress_measure\n   * @return {string}\n   */\n  get progress_measure() {\n    return this.#progress_measure;\n  }\n\n  /**\n   * Setter for #progress_measure\n   * @param {string} progress_measure\n   */\n  set progress_measure(progress_measure) {\n    if (check2004ValidFormat(progress_measure, scorm2004_regex.CMIDecimal) &&\n      check2004ValidRange(progress_measure, scorm2004_regex.progress_range)) {\n      this.#progress_measure = progress_measure;\n    }\n  }\n\n  /**\n   * Getter for #scaled_passing_score\n   * @return {string}\n   */\n  get scaled_passing_score() {\n    return this.#scaled_passing_score;\n  }\n\n  /**\n   * Setter for #scaled_passing_score. Can only be called before  initialization.\n   * @param {string} scaled_passing_score\n   */\n  set scaled_passing_score(scaled_passing_score) {\n    !this.initialized ?\n      this.#scaled_passing_score = scaled_passing_score :\n      throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #session_time. Should only be called during JSON export.\n   * @return {string}\n   */\n  get session_time() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#session_time;\n  }\n\n  /**\n   * Setter for #session_time\n   * @param {string} session_time\n   */\n  set session_time(session_time) {\n    if (check2004ValidFormat(session_time, scorm2004_regex.CMITimespan)) {\n      this.#session_time = session_time;\n    }\n  }\n\n  /**\n   * Getter for #success_status\n   * @return {string}\n   */\n  get success_status() {\n    return this.#success_status;\n  }\n\n  /**\n   * Setter for #success_status\n   * @param {string} success_status\n   */\n  set success_status(success_status) {\n    if (check2004ValidFormat(success_status, scorm2004_regex.CMISStatus)) {\n      this.#success_status = success_status;\n    }\n  }\n\n  /**\n   * Getter for #suspend_data\n   * @return {string}\n   */\n  get suspend_data() {\n    return this.#suspend_data;\n  }\n\n  /**\n   * Setter for #suspend_data\n   * @param {string} suspend_data\n   */\n  set suspend_data(suspend_data) {\n    if (check2004ValidFormat(suspend_data, scorm2004_regex.CMIString64000,\n        true)) {\n      this.#suspend_data = suspend_data;\n    }\n  }\n\n  /**\n   * Getter for #time_limit_action\n   * @return {string}\n   */\n  get time_limit_action() {\n    return this.#time_limit_action;\n  }\n\n  /**\n   * Setter for #time_limit_action. Can only be called before  initialization.\n   * @param {string} time_limit_action\n   */\n  set time_limit_action(time_limit_action) {\n    !this.initialized ?\n      this.#time_limit_action = time_limit_action :\n      throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #total_time\n   * @return {string}\n   */\n  get total_time() {\n    return this.#total_time;\n  }\n\n  /**\n   * Setter for #total_time. Can only be called before  initialization.\n   * @param {string} total_time\n   */\n  set total_time(total_time) {\n    !this.initialized ? this.#total_time = total_time : throwReadOnlyError();\n  }\n\n  /**\n   * Adds the current session time to the existing total time.\n   *\n   * @return {string} ISO8601 Duration\n   */\n  getCurrentTotalTime() {\n    let sessionTime = this.#session_time;\n    const startTime = this.start_time;\n\n    if (typeof startTime !== 'undefined' && startTime !== null) {\n      const seconds = new Date().getTime() - startTime;\n      sessionTime = Util.getSecondsAsISODuration(seconds / 1000);\n    }\n\n    return Util.addTwoDurations(\n        this.#total_time,\n        sessionTime,\n        scorm2004_regex.CMITimespan,\n    );\n  }\n\n  /**\n   * toJSON for cmi\n   *\n   * @return {\n   *    {\n   *      comments_from_learner: CMICommentsFromLearner,\n   *      comments_from_lms: CMICommentsFromLMS,\n   *      completion_status: string,\n   *      completion_threshold: string,\n   *      credit: string,\n   *      entry: string,\n   *      exit: string,\n   *      interactions: CMIInteractions,\n   *      launch_data: string,\n   *      learner_id: string,\n   *      learner_name: string,\n   *      learner_preference: CMILearnerPreference,\n   *      location: string,\n   *      max_time_allowed: string,\n   *      mode: string,\n   *      objectives: CMIObjectives,\n   *      progress_measure: string,\n   *      scaled_passing_score: string,\n   *      score: Scorm2004CMIScore,\n   *      session_time: string,\n   *      success_status: string,\n   *      suspend_data: string,\n   *      time_limit_action: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'comments_from_learner': this.comments_from_learner,\n      'comments_from_lms': this.comments_from_lms,\n      'completion_status': this.completion_status,\n      'completion_threshold': this.completion_threshold,\n      'credit': this.credit,\n      'entry': this.entry,\n      'exit': this.exit,\n      'interactions': this.interactions,\n      'launch_data': this.launch_data,\n      'learner_id': this.learner_id,\n      'learner_name': this.learner_name,\n      'learner_preference': this.learner_preference,\n      'location': this.location,\n      'max_time_allowed': this.max_time_allowed,\n      'mode': this.mode,\n      'objectives': this.objectives,\n      'progress_measure': this.progress_measure,\n      'scaled_passing_score': this.scaled_passing_score,\n      'score': this.score,\n      'session_time': this.session_time,\n      'success_status': this.success_status,\n      'suspend_data': this.suspend_data,\n      'time_limit_action': this.time_limit_action,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi.learner_preference object\n */\nclass CMILearnerPreference extends BaseCMI {\n  #_children = scorm2004_constants.student_preference_children;\n  #audio_level = '1';\n  #language = '';\n  #delivery_speed = '1';\n  #audio_captioning = '0';\n\n  /**\n   * Constructor for cmi.learner_preference\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #audio_level\n   * @return {string}\n   */\n  get audio_level() {\n    return this.#audio_level;\n  }\n\n  /**\n   * Setter for #audio_level\n   * @param {string} audio_level\n   */\n  set audio_level(audio_level) {\n    if (check2004ValidFormat(audio_level, scorm2004_regex.CMIDecimal) &&\n      check2004ValidRange(audio_level, scorm2004_regex.audio_range)) {\n      this.#audio_level = audio_level;\n    }\n  }\n\n  /**\n   * Getter for #language\n   * @return {string}\n   */\n  get language() {\n    return this.#language;\n  }\n\n  /**\n   * Setter for #language\n   * @param {string} language\n   */\n  set language(language) {\n    if (check2004ValidFormat(language, scorm2004_regex.CMILang)) {\n      this.#language = language;\n    }\n  }\n\n  /**\n   * Getter for #delivery_speed\n   * @return {string}\n   */\n  get delivery_speed() {\n    return this.#delivery_speed;\n  }\n\n  /**\n   * Setter for #delivery_speed\n   * @param {string} delivery_speed\n   */\n  set delivery_speed(delivery_speed) {\n    if (check2004ValidFormat(delivery_speed, scorm2004_regex.CMIDecimal) &&\n      check2004ValidRange(delivery_speed, scorm2004_regex.speed_range)) {\n      this.#delivery_speed = delivery_speed;\n    }\n  }\n\n  /**\n   * Getter for #audio_captioning\n   * @return {string}\n   */\n  get audio_captioning() {\n    return this.#audio_captioning;\n  }\n\n  /**\n   * Setter for #audio_captioning\n   * @param {string} audio_captioning\n   */\n  set audio_captioning(audio_captioning) {\n    if (check2004ValidFormat(audio_captioning, scorm2004_regex.CMISInteger) &&\n      check2004ValidRange(audio_captioning, scorm2004_regex.text_range)) {\n      this.#audio_captioning = audio_captioning;\n    }\n  }\n\n  /**\n   * toJSON for cmi.learner_preference\n   *\n   * @return {\n   *    {\n   *      audio_level: string,\n   *      language: string,\n   *      delivery_speed: string,\n   *      audio_captioning: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'audio_level': this.audio_level,\n      'language': this.language,\n      'delivery_speed': this.delivery_speed,\n      'audio_captioning': this.audio_captioning,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.interactions object\n */\nclass CMIInteractions extends CMIArray {\n  /**\n   * Constructor for cmi.objectives Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.interactions_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      errorClass: Scorm2004ValidationError,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.objectives object\n */\nclass CMIObjectives extends CMIArray {\n  /**\n   * Constructor for cmi.objectives Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.objectives_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      errorClass: Scorm2004ValidationError,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.comments_from_lms object\n */\nclass CMICommentsFromLMS extends CMIArray {\n  /**\n   * Constructor for cmi.comments_from_lms Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.comments_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      errorClass: Scorm2004ValidationError,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.comments_from_learner object\n */\nclass CMICommentsFromLearner extends CMIArray {\n  /**\n   * Constructor for cmi.comments_from_learner Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.comments_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      errorClass: Scorm2004ValidationError,\n    });\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi.interaction.n object\n */\nexport class CMIInteractionsObject extends BaseCMI {\n  #id = '';\n  #type = '';\n  #timestamp = '';\n  #weighting = '';\n  #learner_response = '';\n  #result = '';\n  #latency = '';\n  #description = '';\n\n  /**\n   * Constructor for cmi.interaction.n\n   */\n  constructor() {\n    super();\n\n    this.objectives = new CMIArray({\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      errorClass: Scorm2004ValidationError,\n      children: scorm2004_constants.objectives_children,\n    });\n    this.correct_responses = new CMIArray({\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      errorClass: Scorm2004ValidationError,\n      children: scorm2004_constants.correct_responses_children,\n    });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.objectives?.initialize();\n    this.correct_responses?.initialize();\n  }\n\n  /**\n   * Getter for #id\n   * @return {string}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check2004ValidFormat(id, scorm2004_regex.CMILongIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #type\n   * @return {string}\n   */\n  get type() {\n    return this.#type;\n  }\n\n  /**\n   * Setter for #type\n   * @param {string} type\n   */\n  set type(type) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(type, scorm2004_regex.CMIType)) {\n        this.#type = type;\n      }\n    }\n  }\n\n  /**\n   * Getter for #timestamp\n   * @return {string}\n   */\n  get timestamp() {\n    return this.#timestamp;\n  }\n\n  /**\n   * Setter for #timestamp\n   * @param {string} timestamp\n   */\n  set timestamp(timestamp) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(timestamp, scorm2004_regex.CMITime)) {\n        this.#timestamp = timestamp;\n      }\n    }\n  }\n\n  /**\n   * Getter for #weighting\n   * @return {string}\n   */\n  get weighting() {\n    return this.#weighting;\n  }\n\n  /**\n   * Setter for #weighting\n   * @param {string} weighting\n   */\n  set weighting(weighting) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(weighting, scorm2004_regex.CMIDecimal)) {\n        this.#weighting = weighting;\n      }\n    }\n  }\n\n  /**\n   * Getter for #learner_response\n   * @return {string}\n   */\n  get learner_response() {\n    return this.#learner_response;\n  }\n\n  /**\n   * Setter for #learner_response. Does type validation to make sure response\n   * matches SCORM 2004's spec\n   * @param {string} learner_response\n   */\n  set learner_response(learner_response) {\n    if (this.initialized && (this.#type === '' || this.#id === '')) {\n      throwDependencyNotEstablishedError();\n    } else {\n      let nodes = [];\n      const response_type = learner_responses[this.type];\n      if (response_type) {\n        if (response_type?.delimiter) {\n          nodes = learner_response.split(response_type.delimiter);\n        } else {\n          nodes[0] = learner_response;\n        }\n\n        if ((nodes.length > 0) && (nodes.length <= response_type.max)) {\n          const formatRegex = new RegExp(response_type.format);\n          for (let i = 0; i < nodes.length; i++) {\n            if (response_type?.delimiter2) {\n              const values = nodes[i].split(response_type.delimiter2);\n              if (values.length === 2) {\n                if (!values[0].match(formatRegex)) {\n                  throwTypeMismatchError();\n                } else {\n                  if (!values[1].match(new RegExp(response_type.format2))) {\n                    throwTypeMismatchError();\n                  }\n                }\n              } else {\n                throwTypeMismatchError();\n              }\n            } else {\n              if (!nodes[i].match(formatRegex)) {\n                throwTypeMismatchError();\n              } else {\n                if (nodes[i] !== '' && response_type.unique) {\n                  for (let j = 0; j < i; j++) {\n                    if (nodes[i] === nodes[j]) {\n                      throwTypeMismatchError();\n                    }\n                  }\n                }\n              }\n            }\n          }\n        } else {\n          throwGeneralSetError();\n        }\n\n        this.#learner_response = learner_response;\n      } else {\n        throwTypeMismatchError();\n      }\n    }\n  }\n\n  /**\n   * Getter for #result\n   * @return {string}\n   */\n  get result() {\n    return this.#result;\n  }\n\n  /**\n   * Setter for #result\n   * @param {string} result\n   */\n  set result(result) {\n    if (check2004ValidFormat(result, scorm2004_regex.CMIResult)) {\n      this.#result = result;\n    }\n  }\n\n  /**\n   * Getter for #latency\n   * @return {string}\n   */\n  get latency() {\n    return this.#latency;\n  }\n\n  /**\n   * Setter for #latency\n   * @param {string} latency\n   */\n  set latency(latency) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(latency, scorm2004_regex.CMITimespan)) {\n        this.#latency = latency;\n      }\n    }\n  }\n\n  /**\n   * Getter for #description\n   * @return {string}\n   */\n  get description() {\n    return this.#description;\n  }\n\n  /**\n   * Setter for #description\n   * @param {string} description\n   */\n  set description(description) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(description, scorm2004_regex.CMILangString250,\n          true)) {\n        this.#description = description;\n      }\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n\n   *\n   * @return {\n   *    {\n   *      id: string,\n   *      type: string,\n   *      objectives: CMIArray,\n   *      timestamp: string,\n   *      correct_responses: CMIArray,\n   *      weighting: string,\n   *      learner_response: string,\n   *      result: string,\n   *      latency: string,\n   *      description: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'type': this.type,\n      'objectives': this.objectives,\n      'timestamp': this.timestamp,\n      'weighting': this.weighting,\n      'learner_response': this.learner_response,\n      'result': this.result,\n      'latency': this.latency,\n      'description': this.description,\n      'correct_responses': this.correct_responses,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi.objectives.n object\n */\nexport class CMIObjectivesObject extends BaseCMI {\n  #id = '';\n  #success_status = 'unknown';\n  #completion_status = 'unknown';\n  #progress_measure = '';\n  #description = '';\n\n  /**\n   * Constructor for cmi.objectives.n\n   */\n  constructor() {\n    super();\n\n    this.score = new Scorm2004CMIScore();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  /**\n   * Getter for #id\n   * @return {string}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check2004ValidFormat(id, scorm2004_regex.CMILongIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #success_status\n   * @return {string}\n   */\n  get success_status() {\n    return this.#success_status;\n  }\n\n  /**\n   * Setter for #success_status\n   * @param {string} success_status\n   */\n  set success_status(success_status) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(success_status, scorm2004_regex.CMISStatus)) {\n        this.#success_status = success_status;\n      }\n    }\n  }\n\n  /**\n   * Getter for #completion_status\n   * @return {string}\n   */\n  get completion_status() {\n    return this.#completion_status;\n  }\n\n  /**\n   * Setter for #completion_status\n   * @param {string} completion_status\n   */\n  set completion_status(completion_status) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(completion_status, scorm2004_regex.CMICStatus)) {\n        this.#completion_status = completion_status;\n      }\n    }\n  }\n\n  /**\n   * Getter for #progress_measure\n   * @return {string}\n   */\n  get progress_measure() {\n    return this.#progress_measure;\n  }\n\n  /**\n   * Setter for #progress_measure\n   * @param {string} progress_measure\n   */\n  set progress_measure(progress_measure) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(progress_measure, scorm2004_regex.CMIDecimal) &&\n        check2004ValidRange(progress_measure,\n            scorm2004_regex.progress_range)) {\n        this.#progress_measure = progress_measure;\n      }\n    }\n  }\n\n  /**\n   * Getter for #description\n   * @return {string}\n   */\n  get description() {\n    return this.#description;\n  }\n\n  /**\n   * Setter for #description\n   * @param {string} description\n   */\n  set description(description) {\n    if (this.initialized && this.#id === '') {\n      throwDependencyNotEstablishedError();\n    } else {\n      if (check2004ValidFormat(description, scorm2004_regex.CMILangString250,\n          true)) {\n        this.#description = description;\n      }\n    }\n  }\n\n  /**\n   * toJSON for cmi.objectives.n\n   *\n   * @return {\n   *    {\n   *      id: string,\n   *      success_status: string,\n   *      completion_status: string,\n   *      progress_measure: string,\n   *      description: string,\n   *      score: Scorm2004CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'success_status': this.success_status,\n      'completion_status': this.completion_status,\n      'progress_measure': this.progress_measure,\n      'description': this.description,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi *.score object\n */\nclass Scorm2004CMIScore extends CMIScore {\n  #scaled = '';\n\n  /**\n   * Constructor for cmi *.score\n   */\n  constructor() {\n    super(\n        {\n          score_children: scorm2004_constants.score_children,\n          max: '',\n          invalidErrorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n          invalidTypeCode: scorm2004_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm2004_error_codes.VALUE_OUT_OF_RANGE,\n          decimalRegex: scorm2004_regex.CMIDecimal,\n          errorClass: Scorm2004ValidationError,\n        });\n  }\n\n  /**\n   * Getter for #scaled\n   * @return {string}\n   */\n  get scaled() {\n    return this.#scaled;\n  }\n\n  /**\n   * Setter for #scaled\n   * @param {string} scaled\n   */\n  set scaled(scaled) {\n    if (check2004ValidFormat(scaled, scorm2004_regex.CMIDecimal) &&\n      check2004ValidRange(scaled, scorm2004_regex.scaled_range)) {\n      this.#scaled = scaled;\n    }\n  }\n\n  /**\n   * toJSON for cmi *.score\n   *\n   * @return {\n   *    {\n   *      scaled: string,\n   *      raw: string,\n   *      min: string,\n   *      max: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'scaled': this.scaled,\n      'raw': super.raw,\n      'min': super.min,\n      'max': super.max,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.comments_from_learner.n and cmi.comments_from_lms.n object\n */\nexport class CMICommentsObject extends BaseCMI {\n  #comment = '';\n  #location = '';\n  #timestamp = '';\n  #readOnlyAfterInit;\n\n  /**\n   * Constructor for cmi.comments_from_learner.n and cmi.comments_from_lms.n\n   * @param {boolean} readOnlyAfterInit\n   */\n  constructor(readOnlyAfterInit = false) {\n    super();\n    this.#comment = '';\n    this.#location = '';\n    this.#timestamp = '';\n    this.#readOnlyAfterInit = readOnlyAfterInit;\n  }\n\n  /**\n   * Getter for #comment\n   * @return {string}\n   */\n  get comment() {\n    return this.#comment;\n  }\n\n  /**\n   * Setter for #comment\n   * @param {string} comment\n   */\n  set comment(comment) {\n    if (this.initialized && this.#readOnlyAfterInit) {\n      throwReadOnlyError();\n    } else {\n      if (check2004ValidFormat(comment, scorm2004_regex.CMILangString4000,\n          true)) {\n        this.#comment = comment;\n      }\n    }\n  }\n\n  /**\n   * Getter for #location\n   * @return {string}\n   */\n  get location() {\n    return this.#location;\n  }\n\n  /**\n   * Setter for #location\n   * @param {string} location\n   */\n  set location(location) {\n    if (this.initialized && this.#readOnlyAfterInit) {\n      throwReadOnlyError();\n    } else {\n      if (check2004ValidFormat(location, scorm2004_regex.CMIString250)) {\n        this.#location = location;\n      }\n    }\n  }\n\n  /**\n   * Getter for #timestamp\n   * @return {string}\n   */\n  get timestamp() {\n    return this.#timestamp;\n  }\n\n  /**\n   * Setter for #timestamp\n   * @param {string} timestamp\n   */\n  set timestamp(timestamp) {\n    if (this.initialized && this.#readOnlyAfterInit) {\n      throwReadOnlyError();\n    } else {\n      if (check2004ValidFormat(timestamp, scorm2004_regex.CMITime)) {\n        this.#timestamp = timestamp;\n      }\n    }\n  }\n\n  /**\n   * toJSON for cmi.comments_from_learner.n object\n   * @return {\n   *    {\n   *      comment: string,\n   *      location: string,\n   *      timestamp: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'comment': this.comment,\n      'location': this.location,\n      'timestamp': this.timestamp,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.interactions.n.objectives.n object\n */\nexport class CMIInteractionsObjectivesObject extends BaseCMI {\n  #id = '';\n\n  /**\n   * Constructor for cmi.interactions.n.objectives.n\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #id\n   * @return {string}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check2004ValidFormat(id, scorm2004_regex.CMILongIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n.objectives.n\n   * @return {\n   *    {\n   *      id: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.interactions.n.correct_responses.n object\n */\nexport class CMIInteractionsCorrectResponsesObject extends BaseCMI {\n  #pattern = '';\n\n  /**\n   * Constructor for cmi.interactions.n.correct_responses.n\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #pattern\n   * @return {string}\n   */\n  get pattern() {\n    return this.#pattern;\n  }\n\n  /**\n   * Setter for #pattern\n   * @param {string} pattern\n   */\n  set pattern(pattern) {\n    if (check2004ValidFormat(pattern, scorm2004_regex.CMIFeedback)) {\n      this.#pattern = pattern;\n    }\n  }\n\n  /**\n   * toJSON cmi.interactions.n.correct_responses.n object\n   * @return {\n   *    {\n   *      pattern: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'pattern': this.pattern,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's adl object\n */\nexport class ADL extends BaseCMI {\n  /**\n   * Constructor for adl\n   */\n  constructor() {\n    super();\n\n    this.nav = new ADLNav();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.nav?.initialize();\n  }\n\n  /**\n   * toJSON for adl\n   * @return {\n   *    {\n   *      nav: {\n   *        request: string\n   *      }\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'nav': this.nav,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's adl.nav object\n */\nclass ADLNav extends BaseCMI {\n  #request = '_none_';\n\n  /**\n   * Constructor for adl.nav\n   */\n  constructor() {\n    super();\n\n    this.request_valid = new ADLNavRequestValid();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.request_valid?.initialize();\n  }\n\n  /**\n   * Getter for #request\n   * @return {string}\n   */\n  get request() {\n    return this.#request;\n  }\n\n  /**\n   * Setter for #request\n   * @param {string} request\n   */\n  set request(request) {\n    if (check2004ValidFormat(request, scorm2004_regex.NAVEvent)) {\n      this.#request = request;\n    }\n  }\n\n  /**\n   * toJSON for adl.nav\n   *\n   * @return {\n   *    {\n   *      request: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'request': this.request,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's adl.nav.request_valid object\n */\nclass ADLNavRequestValid extends BaseCMI {\n  #continue = 'unknown';\n  #previous = 'unknown';\n  choice = class {\n    /**\n     * Check if target is valid\n     * @param {*} _target\n     * @return {string}\n     */\n    _isTargetValid = (_target) => 'unknown';\n  };\n  jump = class {\n    /**\n     * Check if target is valid\n     * @param {*} _target\n     * @return {string}\n     */\n    _isTargetValid = (_target) => 'unknown';\n  };\n\n  /**\n   * Constructor for adl.nav.request_valid\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #continue\n   * @return {string}\n   */\n  get continue() {\n    return this.#continue;\n  }\n\n  /**\n   * Setter for #continue. Just throws an error.\n   * @param {*} _\n   */\n  set continue(_) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #previous\n   * @return {string}\n   */\n  get previous() {\n    return this.#previous;\n  }\n\n  /**\n   * Setter for #previous. Just throws an error.\n   * @param {*} _\n   */\n  set previous(_) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for adl.nav.request_valid\n   *\n   * @return {\n   *    {\n   *      previous: string,\n   *      continue: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'previous': this.previous,\n      'continue': this.continue,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\n\nconst global = {\n  SCORM_TRUE: 'true',\n  SCORM_FALSE: 'false',\n  STATE_NOT_INITIALIZED: 0,\n  STATE_INITIALIZED: 1,\n  STATE_TERMINATED: 2,\n  LOG_LEVEL_DEBUG: 1,\n  LOG_LEVEL_INFO: 2,\n  LOG_LEVEL_WARNING: 3,\n  LOG_LEVEL_ERROR: 4,\n  LOG_LEVEL_NONE: 5,\n};\n\nconst scorm12 = {\n  // Children lists\n  cmi_children: 'core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions',\n  core_children: 'student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time',\n  score_children: 'raw,min,max',\n  comments_children: 'content,location,time',\n  objectives_children: 'id,score,status',\n  correct_responses_children: 'pattern',\n  student_data_children: 'mastery_score,max_time_allowed,time_limit_action',\n  student_preference_children: 'audio,language,speed,text',\n  interactions_children: 'id,objectives,time,type,correct_responses,weighting,student_response,result,latency',\n\n  error_descriptions: {\n    '101': {\n      basicMessage: 'General Exception',\n      detailMessage: 'No specific error code exists to describe the error. Use LMSGetDiagnostic for more information',\n    },\n    '201': {\n      basicMessage: 'Invalid argument error',\n      detailMessage: 'Indicates that an argument represents an invalid data model element or is otherwise incorrect.',\n    },\n    '202': {\n      basicMessage: 'Element cannot have children',\n      detailMessage: 'Indicates that LMSGetValue was called with a data model element name that ends in \"_children\" for a data model element that does not support the \"_children\" suffix.',\n    },\n    '203': {\n      basicMessage: 'Element not an array - cannot have count',\n      detailMessage: 'Indicates that LMSGetValue was called with a data model element name that ends in \"_count\" for a data model element that does not support the \"_count\" suffix.',\n    },\n    '301': {\n      basicMessage: 'Not initialized',\n      detailMessage: 'Indicates that an API call was made before the call to lmsInitialize.',\n    },\n    '401': {\n      basicMessage: 'Not implemented error',\n      detailMessage: 'The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement.',\n    },\n    '402': {\n      basicMessage: 'Invalid set value, element is a keyword',\n      detailMessage: 'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in \"_children\" and \"_count\").',\n    },\n    '403': {\n      basicMessage: 'Element is read only',\n      detailMessage: 'LMSSetValue was called with a data model element that can only be read.',\n    },\n    '404': {\n      basicMessage: 'Element is write only',\n      detailMessage: 'LMSGetValue was called on a data model element that can only be written to.',\n    },\n    '405': {\n      basicMessage: 'Incorrect Data Type',\n      detailMessage: 'LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element.',\n    },\n    '407': {\n      basicMessage: 'Element Value Out Of Range',\n      detailMessage: 'The numeric value supplied to a LMSSetValue call is outside of the numeric range allowed for the supplied data model element.',\n    },\n    '408': {\n      basicMessage: 'Data Model Dependency Not Established',\n      detailMessage: 'Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element.',\n    },\n  },\n};\n\nconst aicc = {\n  ...scorm12, ...{\n    cmi_children: 'core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation',\n    student_preference_children: 'audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows',\n    student_data_children: 'attempt_number,tries,mastery_score,max_time_allowed,time_limit_action',\n    student_demographics_children: 'city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience',\n    tries_children: 'time,status,score',\n    attempt_records_children: 'score,lesson_status',\n    paths_children: 'location_id,date,time,status,why_left,time_in_element',\n  },\n};\n\nconst scorm2004 = {\n  // Children lists\n  cmi_children: '_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time',\n  comments_children: 'comment,timestamp,location',\n  score_children: 'max,raw,scaled,min',\n  objectives_children: 'progress_measure,completion_status,success_status,description,score,id',\n  correct_responses_children: 'pattern',\n  student_data_children: 'mastery_score,max_time_allowed,time_limit_action',\n  student_preference_children: 'audio_level,audio_captioning,delivery_speed,language',\n  interactions_children: 'id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description',\n\n  error_descriptions: {\n    '0': {\n      basicMessage: 'No Error',\n      detailMessage: 'No error occurred, the previous API call was successful.',\n    },\n    '101': {\n      basicMessage: 'General Exception',\n      detailMessage: 'No specific error code exists to describe the error. Use GetDiagnostic for more information.',\n    },\n    '102': {\n      basicMessage: 'General Initialization Failure',\n      detailMessage: 'Call to Initialize failed for an unknown reason.',\n    },\n    '103': {\n      basicMessage: 'Already Initialized',\n      detailMessage: 'Call to Initialize failed because Initialize was already called.',\n    },\n    '104': {\n      basicMessage: 'Content Instance Terminated',\n      detailMessage: 'Call to Initialize failed because Terminate was already called.',\n    },\n    '111': {\n      basicMessage: 'General Termination Failure',\n      detailMessage: 'Call to Terminate failed for an unknown reason.',\n    },\n    '112': {\n      basicMessage: 'Termination Before Initialization',\n      detailMessage: 'Call to Terminate failed because it was made before the call to Initialize.',\n    },\n    '113': {\n      basicMessage: 'Termination After Termination',\n      detailMessage: 'Call to Terminate failed because Terminate was already called.',\n    },\n    '122': {\n      basicMessage: 'Retrieve Data Before Initialization',\n      detailMessage: 'Call to GetValue failed because it was made before the call to Initialize.',\n    },\n    '123': {\n      basicMessage: 'Retrieve Data After Termination',\n      detailMessage: 'Call to GetValue failed because it was made after the call to Terminate.',\n    },\n    '132': {\n      basicMessage: 'Store Data Before Initialization',\n      detailMessage: 'Call to SetValue failed because it was made before the call to Initialize.',\n    },\n    '133': {\n      basicMessage: 'Store Data After Termination',\n      detailMessage: 'Call to SetValue failed because it was made after the call to Terminate.',\n    },\n    '142': {\n      basicMessage: 'Commit Before Initialization',\n      detailMessage: 'Call to Commit failed because it was made before the call to Initialize.',\n    },\n    '143': {\n      basicMessage: 'Commit After Termination',\n      detailMessage: 'Call to Commit failed because it was made after the call to Terminate.',\n    },\n    '201': {\n      basicMessage: 'General Argument Error',\n      detailMessage: 'An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument.',\n    },\n    '301': {\n      basicMessage: 'General Get Failure',\n      detailMessage: 'Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information.',\n    },\n    '351': {\n      basicMessage: 'General Set Failure',\n      detailMessage: 'Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information.',\n    },\n    '391': {\n      basicMessage: 'General Commit Failure',\n      detailMessage: 'Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information.',\n    },\n    '401': {\n      basicMessage: 'Undefined Data Model Element',\n      detailMessage: 'The data model element name passed to GetValue or SetValue is not a valid SCORM data model element.',\n    },\n    '402': {\n      basicMessage: 'Unimplemented Data Model Element',\n      detailMessage: 'The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant.',\n    },\n    '403': {\n      basicMessage: 'Data Model Element Value Not Initialized',\n      detailMessage: 'Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO.',\n    },\n    '404': {\n      basicMessage: 'Data Model Element Is Read Only',\n      detailMessage: 'SetValue was called with a data model element that can only be read.',\n    },\n    '405': {\n      basicMessage: 'Data Model Element Is Write Only',\n      detailMessage: 'GetValue was called on a data model element that can only be written to.',\n    },\n    '406': {\n      basicMessage: 'Data Model Element Type Mismatch',\n      detailMessage: 'SetValue was called with a value that is not consistent with the data format of the supplied data model element.',\n    },\n    '407': {\n      basicMessage: 'Data Model Element Value Out Of Range',\n      detailMessage: 'The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element.',\n    },\n    '408': {\n      basicMessage: 'Data Model Dependency Not Established',\n      detailMessage: 'Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element.',\n    },\n  },\n};\n\nconst APIConstants = {\n  global: global,\n  scorm12: scorm12,\n  aicc: aicc,\n  scorm2004: scorm2004,\n};\n\nexport default APIConstants;\n","// @flow\nconst global = {\n  GENERAL: 101,\n  INITIALIZATION_FAILED: 101,\n  INITIALIZED: 101,\n  TERMINATED: 101,\n  TERMINATION_FAILURE: 101,\n  TERMINATION_BEFORE_INIT: 101,\n  MULTIPLE_TERMINATION: 101,\n  RETRIEVE_BEFORE_INIT: 101,\n  RETRIEVE_AFTER_TERM: 101,\n  STORE_BEFORE_INIT: 101,\n  STORE_AFTER_TERM: 101,\n  COMMIT_BEFORE_INIT: 101,\n  COMMIT_AFTER_TERM: 101,\n  ARGUMENT_ERROR: 101,\n  CHILDREN_ERROR: 101,\n  COUNT_ERROR: 101,\n  GENERAL_GET_FAILURE: 101,\n  GENERAL_SET_FAILURE: 101,\n  GENERAL_COMMIT_FAILURE: 101,\n  UNDEFINED_DATA_MODEL: 101,\n  UNIMPLEMENTED_ELEMENT: 101,\n  VALUE_NOT_INITIALIZED: 101,\n  INVALID_SET_VALUE: 101,\n  READ_ONLY_ELEMENT: 101,\n  WRITE_ONLY_ELEMENT: 101,\n  TYPE_MISMATCH: 101,\n  VALUE_OUT_OF_RANGE: 101,\n  DEPENDENCY_NOT_ESTABLISHED: 101,\n};\n\nconst scorm12 = {\n  ...global, ...{\n    RETRIEVE_BEFORE_INIT: 301,\n    STORE_BEFORE_INIT: 301,\n    COMMIT_BEFORE_INIT: 301,\n    ARGUMENT_ERROR: 201,\n    CHILDREN_ERROR: 202,\n    COUNT_ERROR: 203,\n    UNDEFINED_DATA_MODEL: 401,\n    UNIMPLEMENTED_ELEMENT: 401,\n    VALUE_NOT_INITIALIZED: 301,\n    INVALID_SET_VALUE: 402,\n    READ_ONLY_ELEMENT: 403,\n    WRITE_ONLY_ELEMENT: 404,\n    TYPE_MISMATCH: 405,\n    VALUE_OUT_OF_RANGE: 407,\n    DEPENDENCY_NOT_ESTABLISHED: 408,\n  },\n};\n\nconst scorm2004 = {\n  ...global, ...{\n    INITIALIZATION_FAILED: 102,\n    INITIALIZED: 103,\n    TERMINATED: 104,\n    TERMINATION_FAILURE: 111,\n    TERMINATION_BEFORE_INIT: 112,\n    MULTIPLE_TERMINATIONS: 113,\n    RETRIEVE_BEFORE_INIT: 122,\n    RETRIEVE_AFTER_TERM: 123,\n    STORE_BEFORE_INIT: 132,\n    STORE_AFTER_TERM: 133,\n    COMMIT_BEFORE_INIT: 142,\n    COMMIT_AFTER_TERM: 143,\n    ARGUMENT_ERROR: 201,\n    GENERAL_GET_FAILURE: 301,\n    GENERAL_SET_FAILURE: 351,\n    GENERAL_COMMIT_FAILURE: 391,\n    UNDEFINED_DATA_MODEL: 401,\n    UNIMPLEMENTED_ELEMENT: 402,\n    VALUE_NOT_INITIALIZED: 403,\n    READ_ONLY_ELEMENT: 404,\n    WRITE_ONLY_ELEMENT: 405,\n    TYPE_MISMATCH: 406,\n    VALUE_OUT_OF_RANGE: 407,\n    DEPENDENCY_NOT_ESTABLISHED: 408,\n  },\n};\n\nconst ErrorCodes = {\n  scorm12: scorm12,\n  scorm2004: scorm2004,\n};\n\nexport default ErrorCodes;\n","const ValidLanguages = {\n  'aa': 'aa', 'ab': 'ab', 'ae': 'ae', 'af': 'af', 'ak': 'ak', 'am': 'am',\n  'an': 'an', 'ar': 'ar', 'as': 'as', 'av': 'av', 'ay': 'ay', 'az': 'az',\n  'ba': 'ba', 'be': 'be', 'bg': 'bg', 'bh': 'bh', 'bi': 'bi', 'bm': 'bm',\n  'bn': 'bn', 'bo': 'bo', 'br': 'br', 'bs': 'bs', 'ca': 'ca', 'ce': 'ce',\n  'ch': 'ch', 'co': 'co', 'cr': 'cr', 'cs': 'cs', 'cu': 'cu', 'cv': 'cv',\n  'cy': 'cy', 'da': 'da', 'de': 'de', 'dv': 'dv', 'dz': 'dz', 'ee': 'ee',\n  'el': 'el', 'en': 'en', 'eo': 'eo', 'es': 'es', 'et': 'et', 'eu': 'eu',\n  'fa': 'fa', 'ff': 'ff', 'fi': 'fi', 'fj': 'fj', 'fo': 'fo', 'fr': 'fr',\n  'fy': 'fy', 'ga': 'ga', 'gd': 'gd', 'gl': 'gl', 'gn': 'gn', 'gu': 'gu',\n  'gv': 'gv', 'ha': 'ha', 'he': 'he', 'hi': 'hi', 'ho': 'ho', 'hr': 'hr',\n  'ht': 'ht', 'hu': 'hu', 'hy': 'hy', 'hz': 'hz', 'ia': 'ia', 'id': 'id',\n  'ie': 'ie', 'ig': 'ig', 'ii': 'ii', 'ik': 'ik', 'io': 'io', 'is': 'is',\n  'it': 'it', 'iu': 'iu', 'ja': 'ja', 'jv': 'jv', 'ka': 'ka', 'kg': 'kg',\n  'ki': 'ki', 'kj': 'kj', 'kk': 'kk', 'kl': 'kl', 'km': 'km', 'kn': 'kn',\n  'ko': 'ko', 'kr': 'kr', 'ks': 'ks', 'ku': 'ku', 'kv': 'kv', 'kw': 'kw',\n  'ky': 'ky', 'la': 'la', 'lb': 'lb', 'lg': 'lg', 'li': 'li', 'ln': 'ln',\n  'lo': 'lo', 'lt': 'lt', 'lu': 'lu', 'lv': 'lv', 'mg': 'mg', 'mh': 'mh',\n  'mi': 'mi', 'mk': 'mk', 'ml': 'ml', 'mn': 'mn', 'mo': 'mo', 'mr': 'mr',\n  'ms': 'ms', 'mt': 'mt', 'my': 'my', 'na': 'na', 'nb': 'nb', 'nd': 'nd',\n  'ne': 'ne', 'ng': 'ng', 'nl': 'nl', 'nn': 'nn', 'no': 'no', 'nr': 'nr',\n  'nv': 'nv', 'ny': 'ny', 'oc': 'oc', 'oj': 'oj', 'om': 'om', 'or': 'or',\n  'os': 'os', 'pa': 'pa', 'pi': 'pi', 'pl': 'pl', 'ps': 'ps', 'pt': 'pt',\n  'qu': 'qu', 'rm': 'rm', 'rn': 'rn', 'ro': 'ro', 'ru': 'ru', 'rw': 'rw',\n  'sa': 'sa', 'sc': 'sc', 'sd': 'sd', 'se': 'se', 'sg': 'sg', 'sh': 'sh',\n  'si': 'si', 'sk': 'sk', 'sl': 'sl', 'sm': 'sm', 'sn': 'sn', 'so': 'so',\n  'sq': 'sq', 'sr': 'sr', 'ss': 'ss', 'st': 'st', 'su': 'su', 'sv': 'sv',\n  'sw': 'sw', 'ta': 'ta', 'te': 'te', 'tg': 'tg', 'th': 'th', 'ti': 'ti',\n  'tk': 'tk', 'tl': 'tl', 'tn': 'tn', 'to': 'to', 'tr': 'tr', 'ts': 'ts',\n  'tt': 'tt', 'tw': 'tw', 'ty': 'ty', 'ug': 'ug', 'uk': 'uk', 'ur': 'ur',\n  'uz': 'uz', 've': 've', 'vi': 'vi', 'vo': 'vo', 'wa': 'wa', 'wo': 'wo',\n  'xh': 'xh', 'yi': 'yi', 'yo': 'yo', 'za': 'za', 'zh': 'zh', 'zu': 'zu',\n  'aar': 'aar', 'abk': 'abk', 'ave': 'ave', 'afr': 'afr', 'aka': 'aka',\n  'amh': 'amh', 'arg': 'arg', 'ara': 'ara', 'asm': 'asm', 'ava': 'ava',\n  'aym': 'aym', 'aze': 'aze', 'bak': 'bak', 'bel': 'bel', 'bul': 'bul',\n  'bih': 'bih', 'bis': 'bis', 'bam': 'bam', 'ben': 'ben', 'tib': 'tib',\n  'bod': 'bod', 'bre': 'bre', 'bos': 'bos', 'cat': 'cat', 'che': 'che',\n  'cha': 'cha', 'cos': 'cos', 'cre': 'cre', 'cze': 'cze', 'ces': 'ces',\n  'chu': 'chu', 'chv': 'chv', 'wel': 'wel', 'cym': 'cym', 'dan': 'dan',\n  'ger': 'ger', 'deu': 'deu', 'div': 'div', 'dzo': 'dzo', 'ewe': 'ewe',\n  'gre': 'gre', 'ell': 'ell', 'eng': 'eng', 'epo': 'epo', 'spa': 'spa',\n  'est': 'est', 'baq': 'baq', 'eus': 'eus', 'per': 'per', 'fas': 'fas',\n  'ful': 'ful', 'fin': 'fin', 'fij': 'fij', 'fao': 'fao', 'fre': 'fre',\n  'fra': 'fra', 'fry': 'fry', 'gle': 'gle', 'gla': 'gla', 'glg': 'glg',\n  'grn': 'grn', 'guj': 'guj', 'glv': 'glv', 'hau': 'hau', 'heb': 'heb',\n  'hin': 'hin', 'hmo': 'hmo', 'hrv': 'hrv', 'hat': 'hat', 'hun': 'hun',\n  'arm': 'arm', 'hye': 'hye', 'her': 'her', 'ina': 'ina', 'ind': 'ind',\n  'ile': 'ile', 'ibo': 'ibo', 'iii': 'iii', 'ipk': 'ipk', 'ido': 'ido',\n  'ice': 'ice', 'isl': 'isl', 'ita': 'ita', 'iku': 'iku', 'jpn': 'jpn',\n  'jav': 'jav', 'geo': 'geo', 'kat': 'kat', 'kon': 'kon', 'kik': 'kik',\n  'kua': 'kua', 'kaz': 'kaz', 'kal': 'kal', 'khm': 'khm', 'kan': 'kan',\n  'kor': 'kor', 'kau': 'kau', 'kas': 'kas', 'kur': 'kur', 'kom': 'kom',\n  'cor': 'cor', 'kir': 'kir', 'lat': 'lat', 'ltz': 'ltz', 'lug': 'lug',\n  'lim': 'lim', 'lin': 'lin', 'lao': 'lao', 'lit': 'lit', 'lub': 'lub',\n  'lav': 'lav', 'mlg': 'mlg', 'mah': 'mah', 'mao': 'mao', 'mri': 'mri',\n  'mac': 'mac', 'mkd': 'mkd', 'mal': 'mal', 'mon': 'mon', 'mol': 'mol',\n  'mar': 'mar', 'may': 'may', 'msa': 'msa', 'mlt': 'mlt', 'bur': 'bur',\n  'mya': 'mya', 'nau': 'nau', 'nob': 'nob', 'nde': 'nde', 'nep': 'nep',\n  'ndo': 'ndo', 'dut': 'dut', 'nld': 'nld', 'nno': 'nno', 'nor': 'nor',\n  'nbl': 'nbl', 'nav': 'nav', 'nya': 'nya', 'oci': 'oci', 'oji': 'oji',\n  'orm': 'orm', 'ori': 'ori', 'oss': 'oss', 'pan': 'pan', 'pli': 'pli',\n  'pol': 'pol', 'pus': 'pus', 'por': 'por', 'que': 'que', 'roh': 'roh',\n  'run': 'run', 'rum': 'rum', 'ron': 'ron', 'rus': 'rus', 'kin': 'kin',\n  'san': 'san', 'srd': 'srd', 'snd': 'snd', 'sme': 'sme', 'sag': 'sag',\n  'slo': 'slo', 'sin': 'sin', 'slk': 'slk', 'slv': 'slv', 'smo': 'smo',\n  'sna': 'sna', 'som': 'som', 'alb': 'alb', 'sqi': 'sqi', 'srp': 'srp',\n  'ssw': 'ssw', 'sot': 'sot', 'sun': 'sun', 'swe': 'swe', 'swa': 'swa',\n  'tam': 'tam', 'tel': 'tel', 'tgk': 'tgk', 'tha': 'tha', 'tir': 'tir',\n  'tuk': 'tuk', 'tgl': 'tgl', 'tsn': 'tsn', 'ton': 'ton', 'tur': 'tur',\n  'tso': 'tso', 'tat': 'tat', 'twi': 'twi', 'tah': 'tah', 'uig': 'uig',\n  'ukr': 'ukr', 'urd': 'urd', 'uzb': 'uzb', 'ven': 'ven', 'vie': 'vie',\n  'vol': 'vol', 'wln': 'wln', 'wol': 'wol', 'xho': 'xho', 'yid': 'yid',\n  'yor': 'yor', 'zha': 'zha', 'chi': 'chi', 'zho': 'zho', 'zul': 'zul',\n};\n\nexport default ValidLanguages;\n","// @flow\n\nconst scorm12 = {\n  CMIString256: '^.{0,255}$',\n  CMIString4096: '^.{0,4096}$',\n  CMITime: '^(?:[01]\\\\d|2[0123]):(?:[012345]\\\\d):(?:[012345]\\\\d)$', // eslint-disable-line\n  CMITimespan: '^([0-9]{2,}):([0-9]{2}):([0-9]{2})(\\.[0-9]{1,2})?$', // eslint-disable-line\n  CMIInteger: '^\\\\d+$',\n  CMISInteger: '^-?([0-9]+)$',\n  CMIDecimal: '^-?([0-9]{0,3})(\\.[0-9]*)?$', // eslint-disable-line\n  CMIIdentifier: '^[\\\\u0021-\\\\u007E\\\\s]{0,255}$',\n  CMIFeedback: '^.{0,255}$', // This must be redefined\n  CMIIndex: '[._](\\\\d+).',\n\n  // Vocabulary Data Type Definition\n  CMIStatus: '^(passed|completed|failed|incomplete|browsed)$',\n  CMIStatus2: '^(passed|completed|failed|incomplete|browsed|not attempted)$',\n  CMIExit: '^(time-out|suspend|logout|)$',\n  CMIType: '^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$',\n  CMIResult: '^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\\\.[0-9]*)?)$', // eslint-disable-line\n  NAVEvent: '^(previous|continue)$',\n\n  // Data ranges\n  score_range: '0#100',\n  audio_range: '-1#100',\n  speed_range: '-100#100',\n  weighting_range: '-100#100',\n  text_range: '-1#1',\n};\n\nconst aicc = {\n  ...scorm12, ...{\n    CMIIdentifier: '^\\\\w{1,255}$',\n  },\n};\n\nconst scorm2004 = {\n  CMIString200: '^[\\\\u0000-\\\\uFFFF]{0,200}$',\n  CMIString250: '^[\\\\u0000-\\\\uFFFF]{0,250}$',\n  CMIString1000: '^[\\\\u0000-\\\\uFFFF]{0,1000}$',\n  CMIString4000: '^[\\\\u0000-\\\\uFFFF]{0,4000}$',\n  CMIString64000: '^[\\\\u0000-\\\\uFFFF]{0,64000}$',\n  CMILang: '^([a-zA-Z]{2,3}|i|x)(\\-[a-zA-Z0-9\\-]{2,8})?$|^$', // eslint-disable-line\n  CMILangString250: '^(\\{lang=([a-zA-Z]{2,3}|i|x)(\\-[a-zA-Z0-9\\-]{2,8})?\\})?((?!\\{.*$).{0,250}$)?$', // eslint-disable-line\n  CMILangcr: '^((\\{lang=([a-zA-Z]{2,3}|i|x)?(\\-[a-zA-Z0-9\\-]{2,8})?\\}))(.*?)$', // eslint-disable-line\n  CMILangString250cr: '^((\\{lang=([a-zA-Z]{2,3}|i|x)?(\\-[a-zA-Z0-9\\-]{2,8})?\\})?(.{0,250})?)?$', // eslint-disable-line\n  CMILangString4000: '^(\\{lang=([a-zA-Z]{2,3}|i|x)(\\-[a-zA-Z0-9\\-]{2,8})?\\})?((?!\\{.*$).{0,4000}$)?$', // eslint-disable-line\n  CMITime: '^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$',\n  CMITimespan: '^P(?:([.,\\\\d]+)Y)?(?:([.,\\\\d]+)M)?(?:([.,\\\\d]+)W)?(?:([.,\\\\d]+)D)?(?:T?(?:([.,\\\\d]+)H)?(?:([.,\\\\d]+)M)?(?:([.,\\\\d]+)S)?)?$',\n  CMIInteger: '^\\\\d+$',\n  CMISInteger: '^-?([0-9]+)$',\n  CMIDecimal: '^-?([0-9]{1,5})(\\\\.[0-9]{1,18})?$',\n  CMIIdentifier: '^\\\\S{1,250}[a-zA-Z0-9]$',\n  CMIShortIdentifier: '^[\\\\w\\\\.\\\\-\\\\_]{1,250}$', // eslint-disable-line\n  CMILongIdentifier: '^(?:(?!urn:)\\\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\\\S{1,4000}|.{1,4000})$', // need to re-examine this\n  CMIFeedback: '^.*$', // This must be redefined\n  CMIIndex: '[._](\\\\d+).',\n  CMIIndexStore: '.N(\\\\d+).',\n\n  // Vocabulary Data Type Definition\n  CMICStatus: '^(completed|incomplete|not attempted|unknown)$',\n  CMISStatus: '^(passed|failed|unknown)$',\n  CMIExit: '^(time-out|suspend|logout|normal)$',\n  CMIType: '^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$',\n  CMIResult: '^(correct|incorrect|unanticipated|neutral|-?([0-9]{1,4})(\\\\.[0-9]{1,18})?)$',\n  NAVEvent: '^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|\\{target=\\\\S{0,200}[a-zA-Z0-9]\\}choice|jump)$', // eslint-disable-line\n  NAVBoolean: '^(unknown|true|false$)',\n  NAVTarget: '^(previous|continue|choice.{target=\\\\S{0,200}[a-zA-Z0-9]})$',\n\n  // Data ranges\n  scaled_range: '-1#1',\n  audio_range: '0#*',\n  speed_range: '0#*',\n  text_range: '-1#1',\n  progress_range: '0#1',\n};\n\nconst Regex = {\n  aicc: aicc,\n  scorm12: scorm12,\n  scorm2004: scorm2004,\n};\n\nexport default Regex;\n","// @flow\nimport Regex from './regex';\n\nconst scorm2004_regex = Regex.scorm2004;\n\nconst learner = {\n  'true-false': {\n    format: '^true$|^false$',\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'choice': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    max: 36,\n    delimiter: '[,]',\n    unique: true,\n  },\n  'fill-in': {\n    format: scorm2004_regex.CMILangString250,\n    max: 10,\n    delimiter: '[,]',\n    unique: false,\n  },\n  'long-fill-in': {\n    format: scorm2004_regex.CMILangString4000,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'matching': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIShortIdentifier,\n    max: 36,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n  },\n  'performance': {\n    format: '^$|' + scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIDecimal + '|^$|' +\n        scorm2004_regex.CMIShortIdentifier,\n    max: 250,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n  },\n  'sequencing': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    max: 36,\n    delimiter: '[,]',\n    unique: false,\n  },\n  'likert': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'numeric': {\n    format: scorm2004_regex.CMIDecimal,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'other': {\n    format: scorm2004_regex.CMIString4000,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n};\n\nconst correct = {\n  'true-false': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: false,\n    format: '^true$|^false$',\n    limit: 1,\n  },\n  'choice': {\n    max: 36,\n    delimiter: '[,]',\n    unique: true,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n  },\n  'fill-in': {\n    max: 10,\n    delimiter: '[,]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMILangString250cr,\n  },\n  'long-fill-in': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: true,\n    format: scorm2004_regex.CMILangString4000,\n  },\n  'matching': {\n    max: 36,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIShortIdentifier,\n  },\n  'performance': {\n    max: 250,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n    duplicate: false,\n    format: '^$|' + scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIDecimal + '|^$|' +\n        scorm2004_regex.CMIShortIdentifier,\n  },\n  'sequencing': {\n    max: 36,\n    delimiter: '[,]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n  },\n  'likert': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n    limit: 1,\n  },\n  'numeric': {\n    max: 2,\n    delimiter: '[:]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIDecimal,\n    limit: 1,\n  },\n  'other': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIString4000,\n    limit: 1,\n  },\n};\n\nconst Responses = {\n  learner: learner,\n  correct: correct,\n};\n\nexport default Responses;\n","// @flow\n\nimport APIConstants from './constants/api_constants';\n\nconst scorm12_errors = APIConstants.scorm12.error_descriptions;\nconst aicc_errors = APIConstants.aicc.error_descriptions;\nconst scorm2004_errors = APIConstants.scorm2004.error_descriptions;\n\n/**\n * Base Validation Exception\n */\nexport class ValidationError extends Error {\n  /**\n   * Constructor to take in an error message and code\n   * @param {number} errorCode\n   * @param {string} errorMessage\n   * @param {string} detailedMessage\n   */\n  constructor(errorCode: number, errorMessage: String, detailedMessage: String) {\n    super(errorMessage);\n    this.#errorCode = errorCode;\n    this.#errorMessage = errorMessage;\n    this.#detailedMessage = detailedMessage;\n  }\n\n  #errorCode;\n  #errorMessage;\n  #detailedMessage;\n\n  /**\n   * Getter for #errorCode\n   * @return {number}\n   */\n  get errorCode() {\n    return this.#errorCode;\n  }\n\n  /**\n   * Getter for #errorMessage\n   * @return {string}\n   */\n  get errorMessage() {\n    return this.#errorMessage;\n  }\n\n  /**\n   * Getter for #detailedMessage\n   * @return {string}\n   */\n  get detailedMessage() {\n    return this.#detailedMessage;\n  }\n}\n\n/**\n * SCORM 1.2 Validation Error\n */\nexport class Scorm12ValidationError extends ValidationError {\n  /**\n   * Constructor to take in an error code\n   * @param {number} errorCode\n   */\n  constructor(errorCode: number) {\n    if ({}.hasOwnProperty.call(scorm12_errors, String(errorCode))) {\n      super(errorCode, scorm12_errors[String(errorCode)].basicMessage, scorm12_errors[String(errorCode)].detailMessage);\n    } else {\n      super(101, scorm12_errors['101'].basicMessage, scorm12_errors['101'].detailMessage);\n    }\n  }\n}\n\n/**\n * AICC Validation Error\n */\nexport class AICCValidationError extends ValidationError {\n  /**\n   * Constructor to take in an error code\n   * @param {number} errorCode\n   */\n  constructor(errorCode: number) {\n    if ({}.hasOwnProperty.call(aicc_errors, String(errorCode))) {\n      super(errorCode, aicc_errors[String(errorCode)].basicMessage, aicc_errors[String(errorCode)].detailMessage);\n    } else {\n      super(101, aicc_errors['101'].basicMessage, aicc_errors['101'].detailMessage);\n    }\n  }\n}\n\n/**\n * SCORM 2004 Validation Error\n */\nexport class Scorm2004ValidationError extends ValidationError {\n  /**\n   * Constructor to take in an error code\n   * @param {number} errorCode\n   */\n  constructor(errorCode: number) {\n    if ({}.hasOwnProperty.call(scorm2004_errors, String(errorCode))) {\n      super(errorCode, scorm2004_errors[String(errorCode)].basicMessage, scorm2004_errors[String(errorCode)].detailMessage);\n    } else {\n      super(101, scorm2004_errors['101'].basicMessage, scorm2004_errors['101'].detailMessage);\n    }\n  }\n}\n","import Scorm2004API from './Scorm2004API';\nimport Scorm12API from './Scorm12API';\nimport AICC from './AICC';\n\nwindow.Scorm12API = Scorm12API;\nwindow.Scorm2004API = Scorm2004API;\nwindow.AICC = AICC;\n","// @flow\nexport const SECONDS_PER_SECOND = 1.0;\nexport const SECONDS_PER_MINUTE = 60;\nexport const SECONDS_PER_HOUR = 60 * SECONDS_PER_MINUTE;\nexport const SECONDS_PER_DAY = 24 * SECONDS_PER_HOUR;\n\nconst designations = [\n  ['D', SECONDS_PER_DAY],\n  ['H', SECONDS_PER_HOUR],\n  ['M', SECONDS_PER_MINUTE],\n  ['S', SECONDS_PER_SECOND],\n];\n\n/**\n * Converts a Number to a String of HH:MM:SS\n *\n * @param {Number} totalSeconds\n * @return {string}\n */\nexport function getSecondsAsHHMMSS(totalSeconds: Number) {\n  // SCORM spec does not deal with negative durations, give zero back\n  if (!totalSeconds || totalSeconds <= 0) {\n    return '00:00:00';\n  }\n\n  const hours = Math.floor(totalSeconds / SECONDS_PER_HOUR);\n\n  const dateObj = new Date(totalSeconds * 1000);\n  const minutes = dateObj.getUTCMinutes();\n  // make sure we add any possible decimal value\n  const seconds = dateObj.getSeconds();\n  const ms = totalSeconds % 1.0;\n  let msStr = '';\n  if (countDecimals(ms) > 0) {\n    if (countDecimals(ms) > 2) {\n      msStr = ms.toFixed(2);\n    } else {\n      msStr = String(ms);\n    }\n    msStr = '.' + msStr.split('.')[1];\n  }\n\n  return (hours + ':' + minutes + ':' + seconds).replace(/\\b\\d\\b/g,\n      '0$&') + msStr;\n}\n\n/**\n * Calculate the number of seconds from ISO 8601 Duration\n *\n * @param {Number} seconds\n * @return {String}\n */\nexport function getSecondsAsISODuration(seconds: Number) {\n  // SCORM spec does not deal with negative durations, give zero back\n  if (!seconds || seconds <= 0) {\n    return 'PT0S';\n  }\n\n  let duration = 'P';\n  let remainder = seconds;\n\n  designations.forEach(([sign, current_seconds]) => {\n    let value = Math.floor(remainder / current_seconds);\n\n    remainder = remainder % current_seconds;\n    if (countDecimals(remainder) > 2) {\n      remainder = Number(Number(remainder).toFixed(2));\n    }\n    // If we have anything left in the remainder, and we're currently adding\n    // seconds to the duration, go ahead and add the decimal to the seconds\n    if (sign === 'S' && remainder > 0) {\n      value += remainder;\n    }\n\n    if (value) {\n      if ((duration.indexOf('D') > 0 ||\n          sign === 'H' || sign === 'M' || sign === 'S') &&\n          duration.indexOf('T') === -1) {\n        duration += 'T';\n      }\n      duration += `${value}${sign}`;\n    }\n  });\n\n  return duration;\n}\n\n/**\n * Calculate the number of seconds from HH:MM:SS.DDDDDD\n *\n * @param {string} timeString\n * @param {RegExp} timeRegex\n * @return {number}\n */\nexport function getTimeAsSeconds(timeString: String, timeRegex: RegExp) {\n  if (!timeString || typeof timeString !== 'string' ||\n      !timeString.match(timeRegex)) {\n    return 0;\n  }\n  const parts = timeString.split(':');\n  const hours = Number(parts[0]);\n  const minutes = Number(parts[1]);\n  const seconds = Number(parts[2]);\n  return (hours * 3600) + (minutes * 60) + seconds;\n}\n\n/**\n * Calculate the number of seconds from ISO 8601 Duration\n *\n * @param {string} duration\n * @param {RegExp} durationRegex\n * @return {number}\n */\nexport function getDurationAsSeconds(duration: String, durationRegex: RegExp) {\n  if (!duration || !duration.match(durationRegex)) {\n    return 0;\n  }\n\n  const [, years, months, , days, hours, minutes, seconds] = new RegExp(\n      durationRegex).exec(duration) || [];\n\n  let result = 0.0;\n\n  result += (Number(seconds) * 1.0 || 0.0);\n  result += (Number(minutes) * 60.0 || 0.0);\n  result += (Number(hours) * 3600.0 || 0.0);\n  result += (Number(days) * (60 * 60 * 24.0) || 0.0);\n  result += (Number(years) * (60 * 60 * 24 * 365.0) || 0.0);\n\n  return result;\n}\n\n/**\n * Adds together two ISO8601 Duration strings\n *\n * @param {string} first\n * @param {string} second\n * @param {RegExp} durationRegex\n * @return {string}\n */\nexport function addTwoDurations(\n    first: String,\n    second: String,\n    durationRegex: RegExp) {\n  return getSecondsAsISODuration(\n      getDurationAsSeconds(first, durationRegex) +\n      getDurationAsSeconds(second, durationRegex),\n  );\n}\n\n/**\n * Add together two HH:MM:SS.DD strings\n *\n * @param {string} first\n * @param {string} second\n * @param {RegExp} timeRegex\n * @return {string}\n */\nexport function addHHMMSSTimeStrings(\n    first: String,\n    second: String,\n    timeRegex: RegExp) {\n  return getSecondsAsHHMMSS(\n      getTimeAsSeconds(first, timeRegex) +\n      getTimeAsSeconds(\n          second, timeRegex),\n  );\n}\n\n/**\n * Flatten a JSON object down to string paths for each values\n * @param {object} data\n * @return {object}\n */\nexport function flatten(data) {\n  const result = {};\n\n  /**\n   * Recurse through the object\n   * @param {*} cur\n   * @param {*} prop\n   */\n  function recurse(cur, prop) {\n    if (Object(cur) !== cur) {\n      result[prop] = cur;\n    } else if (Array.isArray(cur)) {\n      for (let i = 0, l = cur.length; i < l; i++) {\n        recurse(cur[i], prop + '[' + i + ']');\n        if (l === 0) result[prop] = [];\n      }\n    } else {\n      let isEmpty = true;\n      for (const p in cur) {\n        if ({}.hasOwnProperty.call(cur, p)) {\n          isEmpty = false;\n          recurse(cur[p], prop ? prop + '.' + p : p);\n        }\n      }\n      if (isEmpty && prop) result[prop] = {};\n    }\n  }\n\n  recurse(data, '');\n  return result;\n}\n\n/**\n * Un-flatten a flat JSON object\n * @param {object} data\n * @return {object}\n */\nexport function unflatten(data) {\n  'use strict';\n  if (Object(data) !== data || Array.isArray(data)) return data;\n  const regex = /\\.?([^.[\\]]+)|\\[(\\d+)]/g;\n  const result = {};\n  for (const p in data) {\n    if ({}.hasOwnProperty.call(data, p)) {\n      let cur = result;\n      let prop = '';\n      let m = regex.exec(p);\n      while (m) {\n        cur = cur[prop] || (cur[prop] = (m[2] ? [] : {}));\n        prop = m[2] || m[1];\n        m = regex.exec(p);\n      }\n      cur[prop] = data[p];\n    }\n  }\n  return result[''] || result;\n}\n\n/**\n * Counts the number of decimal places\n * @param {number} num\n * @return {number}\n */\nexport function countDecimals(num: number) {\n  if (Math.floor(num) === num || String(num).indexOf('.') < 0) return 0;\n  const parts = num.toString().split('.')[1];\n  return parts.length || 0;\n}\n"]}